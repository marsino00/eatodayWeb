1684722000
waR3U4bTeM%3A3b002b218cbecaeecf25850f83b8f319-f2e5ca2ee4ceafede2487348866a8061
s:89468:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6ImYyZTVjYTJlZTRjZWFmZWRlMjQ4NzM0ODg2NmE4MDYxIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6OToiVGFibGUucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6MzQ6InZlbmRvci9tcGRmL21wZGYvc3JjL1RhZy9UYWJsZS5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjU2MjcwOiI8P3BocAoKbmFtZXNwYWNlIE1wZGZcVGFnOwoKdXNlIE1wZGZcQ3NzXEJvcmRlcjsKdXNlIE1wZGZcTXBkZjsKCmNsYXNzIFRhYmxlIGV4dGVuZHMgVGFnCnsKCglwdWJsaWMgZnVuY3Rpb24gb3BlbigkYXR0ciwgJiRhaHRtbCwgJiRpaHRtbCkKCXsKCQkkdGhpcy0+bXBkZi0+dGRiZWdpbiA9IGZhbHNlOwoJCSR0aGlzLT5tcGRmLT5sYXN0b3B0aW9uYWx0YWcgPSAnJzsKCQkvLyBEaXNhYmxlIHZlcnRpY2FsIGp1c3RpZmljYXRpb24gaW4gY29sdW1ucwoJCWlmICgkdGhpcy0+bXBkZi0+Q29sQWN0aXZlKSB7CgkJCSR0aGlzLT5tcGRmLT5jb2x2QWxpZ24gPSAnJzsKCQl9IC8vICpDT0xVTU5TKgoJCWlmICgkdGhpcy0+bXBkZi0+bGFzdGJsb2NrbGV2ZWxjaGFuZ2UgPT0gMSkgewoJCQkkYmxvY2tzdGF0ZSA9IDE7CgkJfSAvLyBUb3AgbWFyZ2lucy9wYWRkaW5nIG9ubHkKCQllbHNlaWYgKCR0aGlzLT5tcGRmLT5sYXN0YmxvY2tsZXZlbGNoYW5nZSA8IDEpIHsKCQkJJGJsb2Nrc3RhdGUgPSAwOwoJCX0gLy8gTk8gbWFyZ2lucy9wYWRkaW5nCgkJLy8gY2FsbGVkIGZyb20gYmxvY2sgYWZ0ZXIgbmV3IGRpdiBlLmcuIDxkaXY+IC4uLiA8dGFibGU+IC4uLiAgICBPdXRwdXRzIGJsb2NrIHRvcCBtYXJnaW4vYm9yZGVyIGFuZCBwYWRkaW5nCgkJaWYgKGNvdW50KCR0aGlzLT5tcGRmLT50ZXh0YnVmZmVyKSA9PSAwICYmICR0aGlzLT5tcGRmLT5sYXN0YmxvY2tsZXZlbGNoYW5nZSA9PSAxICYmICEkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCAmJiAhJHRoaXMtPm1wZGYtPmt3dCkgewoJCQkkdGhpcy0+bXBkZi0+bmV3Rmxvd2luZ0Jsb2NrKCR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ3dpZHRoJ10sICR0aGlzLT5tcGRmLT5saW5laGVpZ2h0LCAnJywgZmFsc2UsIDEsIHRydWUsICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2RpcmVjdGlvbiddKTsKCQkJJHRoaXMtPm1wZGYtPmZpbmlzaEZsb3dpbmdCbG9jayh0cnVlKTsgLy8gdHJ1ZSA9IEVORCBvZiBmbG93aW5nIGJsb2NrCgkJfSBlbHNlaWYgKCEkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCAmJiBjb3VudCgkdGhpcy0+bXBkZi0+dGV4dGJ1ZmZlcikpIHsKCQkJJHRoaXMtPm1wZGYtPnByaW50YnVmZmVyKCR0aGlzLT5tcGRmLT50ZXh0YnVmZmVyLCAkYmxvY2tzdGF0ZSk7CgkJfQoKCQkkdGhpcy0+bXBkZi0+dGV4dGJ1ZmZlciA9IFtdOwoJCSR0aGlzLT5tcGRmLT5sYXN0YmxvY2tsZXZlbGNoYW5nZSA9IC0xOwoKCgoJCWlmICgkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCkgeyAvLyBpLmUuIG5vdyBhIG5lc3RlZCB0YWJsZSBjb21pbmcuLi4KCQkJLy8gU2F2ZSBjdXJyZW50IGxldmVsIHRhYmxlCgkJCSR0aGlzLT5tcGRmLT5jZWxsWydQQVJFTlRDRUxMJ10gPSAkdGhpcy0+bXBkZi0+c2F2ZUlubGluZVByb3BlcnRpZXMoKTsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnYmFzZVByb3BlcnRpZXMnXSA9ICR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXM7CgkJCSR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ2NlbGxzJ10gPSAkdGhpcy0+bXBkZi0+Y2VsbDsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnY3VycnJvdyddID0gJHRoaXMtPm1wZGYtPnJvdzsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnY3VycmNvbCddID0gJHRoaXMtPm1wZGYtPmNvbDsKCQl9CgkJJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwrKzsKCQkkdGhpcy0+Y3NzTWFuYWdlci0+dGJDU1NsdmwrKzsKCgkJaWYgKCR0aGlzLT5tcGRmLT50YWJsZUxldmVsID4gMSkgeyAvLyBpbmhlcml0IHRhYmxlIHByb3BlcnRpZXMgZnJvbSBjZWxsIGluIHdoaWNoIG5lc3RlZAoJCQkvLyR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXNbJ0ZPTlQtS0VSTklORyddID0gKCR0aGlzLT5tcGRmLT50ZXh0dmFyICYgVGV4dFZhcnM6OkZDX0tFUk5JTkcpOwkvLyBtUERGIDYKCQkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllc1snTEVUVEVSLVNQQUNJTkcnXSA9ICR0aGlzLT5tcGRmLT5sU3BhY2luZ0NTUzsKCQkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllc1snV09SRC1TUEFDSU5HJ10gPSAkdGhpcy0+bXBkZi0+d1NwYWNpbmdDU1M7CgkJCS8vIG1QREYgNgoJCQkkZGlyZWN0aW9uID0gJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ2RpcmVjdGlvbiddOwoJCQkkdHh0YSA9ICR0aGlzLT5tcGRmLT5jZWxsWyR0aGlzLT5tcGRmLT5yb3ddWyR0aGlzLT5tcGRmLT5jb2xdWydhJ107CgkJCSRjZWxsTGluZUhlaWdodCA9ICR0aGlzLT5tcGRmLT5jZWxsWyR0aGlzLT5tcGRmLT5yb3ddWyR0aGlzLT5tcGRmLT5jb2xdWydjZWxsTGluZUhlaWdodCddOwoJCQkkY2VsbExpbmVTdGFja2luZ1N0cmF0ZWd5ID0gJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ2NlbGxMaW5lU3RhY2tpbmdTdHJhdGVneSddOwoJCQkkY2VsbExpbmVTdGFja2luZ1NoaWZ0ID0gJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ2NlbGxMaW5lU3RhY2tpbmdTaGlmdCddOwoJCX0KCgkJaWYgKGlzc2V0KCR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF0pKSB7CgkJCSR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF0gKys7CgkJfSBlbHNlIHsKCQkJJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXSA9IDE7CgkJfQoKCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydsZXZlbCddID0gJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWw7CgkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnbGV2ZWxpZCddID0gJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXTsKCgkJaWYgKCR0aGlzLT5tcGRmLT50YWJsZUxldmVsID4gJHRoaXMtPm1wZGYtPmlubmVybW9zdFRhYmxlTGV2ZWwpIHsKCQkJJHRoaXMtPm1wZGYtPmlubmVybW9zdFRhYmxlTGV2ZWwgPSAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbDsKCQl9CgkJaWYgKCR0aGlzLT5tcGRmLT50YWJsZUxldmVsID4gMSkgewoJCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyduZXN0ZWRwb3MnXSA9IFsKCQkJCSR0aGlzLT5tcGRmLT5yb3csCgkJCQkkdGhpcy0+bXBkZi0+Y29sLAoJCQkJJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsIC0gMV0sCgkJCV07CgkJfQoJCS8vKysrKysrKysrKysrKysrKysrKysrKysrKysrKwoKCQkkdGhpcy0+bXBkZi0+Y2VsbCA9IFtdOwoJCSR0aGlzLT5tcGRmLT5jb2wgPSAtMTsgLy9pbnQKCQkkdGhpcy0+bXBkZi0+cm93ID0gLTE7IC8vaW50CgkJJHRhYmxlID0gJiR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV07CgoJCS8vIE5ldyB0YWJsZSAtIGFueSBsZXZlbAoJCSR0YWJsZVsnZGlyZWN0aW9uJ10gPSAkdGhpcy0+bXBkZi0+ZGlyZWN0aW9uYWxpdHk7CgkJJHRhYmxlWydiZ2NvbG9yJ10gPSBmYWxzZTsKCQkkdGFibGVbJ3ZhJ10gPSBmYWxzZTsKCQkkdGFibGVbJ3R4dGEnXSA9IGZhbHNlOwoJCSR0YWJsZVsndG9wbnRhaWwnXSA9IGZhbHNlOwoJCSR0YWJsZVsndGhlYWQtdW5kZXJsaW5lJ10gPSBmYWxzZTsKCQkkdGFibGVbJ2JvcmRlciddID0gZmFsc2U7CgkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydSJ11bJ3cnXSA9IDA7CgkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydMJ11bJ3cnXSA9IDA7CgkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydUJ11bJ3cnXSA9IDA7CgkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydCJ11bJ3cnXSA9IDA7CgkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydSJ11bJ3N0eWxlJ10gPSAnJzsKCQkkdGFibGVbJ2JvcmRlcl9kZXRhaWxzJ11bJ0wnXVsnc3R5bGUnXSA9ICcnOwoJCSR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnVCddWydzdHlsZSddID0gJyc7CgkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydCJ11bJ3N0eWxlJ10gPSAnJzsKCQkkdGFibGVbJ21heF9jZWxsX2JvcmRlcl93aWR0aCddWydSJ10gPSAwOwoJCSR0YWJsZVsnbWF4X2NlbGxfYm9yZGVyX3dpZHRoJ11bJ0wnXSA9IDA7CgkJJHRhYmxlWydtYXhfY2VsbF9ib3JkZXJfd2lkdGgnXVsnVCddID0gMDsKCQkkdGFibGVbJ21heF9jZWxsX2JvcmRlcl93aWR0aCddWydCJ10gPSAwOwoJCSR0YWJsZVsncGFkZGluZyddWydMJ10gPSBmYWxzZTsKCQkkdGFibGVbJ3BhZGRpbmcnXVsnUiddID0gZmFsc2U7CgkJJHRhYmxlWydwYWRkaW5nJ11bJ1QnXSA9IGZhbHNlOwoJCSR0YWJsZVsncGFkZGluZyddWydCJ10gPSBmYWxzZTsKCQkkdGFibGVbJ21hcmdpbiddWydMJ10gPSBmYWxzZTsKCQkkdGFibGVbJ21hcmdpbiddWydSJ10gPSBmYWxzZTsKCQkkdGFibGVbJ21hcmdpbiddWydUJ10gPSBmYWxzZTsKCQkkdGFibGVbJ21hcmdpbiddWydCJ10gPSBmYWxzZTsKCQkkdGFibGVbJ2EnXSA9IGZhbHNlOwoJCSR0YWJsZVsnYm9yZGVyX3NwYWNpbmdfSCddID0gZmFsc2U7CgkJJHRhYmxlWydib3JkZXJfc3BhY2luZ19WJ10gPSBmYWxzZTsKCQkkdGFibGVbJ2RlY2ltYWxfYWxpZ24nXSA9IGZhbHNlOwoJCSR0aGlzLT5tcGRmLT5SZXNldCgpOwoJCSR0aGlzLT5tcGRmLT5JbmxpbmVQcm9wZXJ0aWVzID0gW107CgkJJHRoaXMtPm1wZGYtPklubGluZUJERiA9IFtdOyAvLyBtUERGIDYKCQkkdGhpcy0+bXBkZi0+SW5saW5lQkRGY3RyID0gMDsgLy8gbVBERiA2CgkJJHRhYmxlWyduYyddID0gJHRhYmxlWyduciddID0gMDsKCQkkdGhpcy0+bXBkZi0+dGFibGV0aGVhZCA9IDA7CgkJJHRoaXMtPm1wZGYtPnRhYmxldGZvb3QgPSAwOwoJCSR0aGlzLT5tcGRmLT50YWJsZXRoZWFkanVzdGZpbmlzaGVkID0gZmFsc2U7CgoJCS8vIG1QREYgNgoJCWlmICgkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA+IDEpIHsgLy8gaW5oZXJpdCB0YWJsZSBwcm9wZXJ0aWVzIGZyb20gY2VsbCBpbiB3aGljaCBuZXN0ZWQKCQkJJHRhYmxlWydkaXJlY3Rpb24nXSA9ICRkaXJlY3Rpb247CgkJCSR0YWJsZVsndHh0YSddID0gJHR4dGE7CgkJCSR0YWJsZVsnY2VsbExpbmVIZWlnaHQnXSA9ICRjZWxsTGluZUhlaWdodDsKCQkJJHRhYmxlWydjZWxsTGluZVN0YWNraW5nU3RyYXRlZ3knXSA9ICRjZWxsTGluZVN0YWNraW5nU3RyYXRlZ3k7CgkJCSR0YWJsZVsnY2VsbExpbmVTdGFja2luZ1NoaWZ0J10gPSAkY2VsbExpbmVTdGFja2luZ1NoaWZ0OwoJCX0KCgoJCSRsYXN0Ym90dG9tbWFyZ2luID0gMDsKCQlpZiAoJHRoaXMtPm1wZGYtPmJsb2NranVzdGZpbmlzaGVkICYmICFjb3VudCgkdGhpcy0+bXBkZi0+dGV4dGJ1ZmZlcikgJiYgJHRoaXMtPm1wZGYtPnkgIT0gJHRoaXMtPm1wZGYtPnRNYXJnaW4gJiYgJHRoaXMtPm1wZGYtPmNvbGxhcHNlQmxvY2tNYXJnaW5zICYmICR0aGlzLT5tcGRmLT50YWJsZUxldmVsID09IDEpIHsKCQkJJGxhc3Rib3R0b21tYXJnaW4gPSAkdGhpcy0+bXBkZi0+bGFzdGJsb2NrYm90dG9tbWFyZ2luOwoJCX0KCQkkdGhpcy0+bXBkZi0+bGFzdGJsb2NrYm90dG9tbWFyZ2luID0gMDsKCQkkdGhpcy0+bXBkZi0+YmxvY2tqdXN0ZmluaXNoZWQgPSBmYWxzZTsKCgkJaWYgKCR0aGlzLT5tcGRmLT50YWJsZUxldmVsID09IDEpIHsKCQkJJHRhYmxlWydoZWFkZXJucm93cyddID0gMDsKCQkJJHRhYmxlWydmb290ZXJucm93cyddID0gMDsKCQkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllcyA9IFtdOwoJCX0KCgkJLy8gQURERUQgQ1NTIEZVTkNJT05TIEZPUiBUQUJMRQoJCWlmICgkdGhpcy0+Y3NzTWFuYWdlci0+dGJDU1NsdmwgPT0gMSkgewoJCQkkcHJvcGVydGllcyA9ICR0aGlzLT5jc3NNYW5hZ2VyLT5NZXJnZUNTUygnVE9QVEFCTEUnLCAnVEFCTEUnLCAkYXR0cik7CgkJfSBlbHNlIHsKCQkJJHByb3BlcnRpZXMgPSAkdGhpcy0+Y3NzTWFuYWdlci0+TWVyZ2VDU1MoJ1RBQkxFJywgJ1RBQkxFJywgJGF0dHIpOwoJCX0KCgkJJHcgPSAnJzsKCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ1dJRFRIJ10pKSB7CgkJCSR3ID0gJHByb3BlcnRpZXNbJ1dJRFRIJ107CgkJfSBlbHNlaWYgKCFlbXB0eSgkYXR0clsnV0lEVEgnXSkpIHsKCQkJJHcgPSAkYXR0clsnV0lEVEgnXTsKCQl9CgoJCWlmIChpc3NldCgkYXR0clsnQUxJR04nXSkgJiYgYXJyYXlfa2V5X2V4aXN0cyhzdHJ0b2xvd2VyKCRhdHRyWydBTElHTiddKSwgc2VsZjo6QUxJR04pKSB7CgkJCSR0YWJsZVsnYSddID0gJHRoaXMtPmdldEFsaWduKCRhdHRyWydBTElHTiddKTsKCQl9CgkJaWYgKCEkdGFibGVbJ2EnXSkgewoJCQlpZiAoJHRhYmxlWydkaXJlY3Rpb24nXSA9PT0gJ3J0bCcpIHsKCQkJCSR0YWJsZVsnYSddID0gJ1InOwoJCQl9IGVsc2UgewoJCQkJJHRhYmxlWydhJ10gPSAnTCc7CgkJCX0KCQl9CgoJCWlmICghZW1wdHkoJHByb3BlcnRpZXNbJ0RJUkVDVElPTiddKSkgewoJCQkkdGFibGVbJ2RpcmVjdGlvbiddID0gc3RydG9sb3dlcigkcHJvcGVydGllc1snRElSRUNUSU9OJ10pOwoJCX0gZWxzZWlmICghZW1wdHkoJGF0dHJbJ0RJUiddKSkgewoJCQkkdGFibGVbJ2RpcmVjdGlvbiddID0gc3RydG9sb3dlcigkYXR0clsnRElSJ10pOwoJCX0gZWxzZWlmICgkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxKSB7CgkJCSR0YWJsZVsnZGlyZWN0aW9uJ10gPSAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydkaXJlY3Rpb24nXTsKCQl9CgoJCWlmIChpc3NldCgkcHJvcGVydGllc1snQkFDS0dST1VORC1DT0xPUiddKSkgewoJCQlpZiAoJHRhYmxlWydiZ2NvbG9yJ10gPT09IGZhbHNlKSB7IC8vIEB0b2RvIGNsZWFuZXIgaW5pdGlhbGl6YXRpb24KCQkJCSR0YWJsZVsnYmdjb2xvciddID0gW107CgkJCX0KCQkJJHRhYmxlWydiZ2NvbG9yJ11bLTFdID0gJHByb3BlcnRpZXNbJ0JBQ0tHUk9VTkQtQ09MT1InXTsKCQl9IGVsc2VpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0JBQ0tHUk9VTkQnXSkpIHsKCQkJaWYgKCR0YWJsZVsnYmdjb2xvciddID09PSBmYWxzZSkgewoJCQkJJHRhYmxlWydiZ2NvbG9yJ10gPSBbXTsKCQkJfQoJCQkkdGFibGVbJ2JnY29sb3InXVstMV0gPSAkcHJvcGVydGllc1snQkFDS0dST1VORCddOwoJCX0gZWxzZWlmIChpc3NldCgkYXR0clsnQkdDT0xPUiddKSkgewoJCQlpZiAoJHRhYmxlWydiZ2NvbG9yJ10gPT09IGZhbHNlKSB7CgkJCQkkdGFibGVbJ2JnY29sb3InXSA9IFtdOwoJCQl9CgkJCSR0YWJsZVsnYmdjb2xvciddWy0xXSA9ICRhdHRyWydCR0NPTE9SJ107CgkJfQoKCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ1ZFUlRJQ0FMLUFMSUdOJ10pICYmIGFycmF5X2tleV9leGlzdHMoc3RydG9sb3dlcigkcHJvcGVydGllc1snVkVSVElDQUwtQUxJR04nXSksIHNlbGY6OkFMSUdOKSkgewoJCQkkdGFibGVbJ3ZhJ10gPSAkdGhpcy0+Z2V0QWxpZ24oJHByb3BlcnRpZXNbJ1ZFUlRJQ0FMLUFMSUdOJ10pOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ1RFWFQtQUxJR04nXSkgJiYgYXJyYXlfa2V5X2V4aXN0cyhzdHJ0b2xvd2VyKCRwcm9wZXJ0aWVzWydURVhULUFMSUdOJ10pLCBzZWxmOjpBTElHTikpIHsKCQkJJHRhYmxlWyd0eHRhJ10gPSAkdGhpcy0+Z2V0QWxpZ24oJHByb3BlcnRpZXNbJ1RFWFQtQUxJR04nXSk7CgkJfQoKCQlpZiAoIWVtcHR5KCRwcm9wZXJ0aWVzWydBVVRPU0laRSddKSAmJiAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxKSB7CgkJCSR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQgPSAkcHJvcGVydGllc1snQVVUT1NJWkUnXTsKCQkJaWYgKCR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQgPCAxKSB7CgkJCQkkdGhpcy0+bXBkZi0+c2hyaW5rX3RoaXNfdGFibGVfdG9fZml0ID0gMDsKCQkJfQoJCX0KCQlpZiAoIWVtcHR5KCRwcm9wZXJ0aWVzWydST1RBVEUnXSkgJiYgJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPT0gMSkgewoJCQkkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlID0gJHByb3BlcnRpZXNbJ1JPVEFURSddOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ1RPUE5UQUlMJ10pKSB7CgkJCSR0YWJsZVsndG9wbnRhaWwnXSA9ICRwcm9wZXJ0aWVzWydUT1BOVEFJTCddOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ1RIRUFELVVOREVSTElORSddKSkgewoJCQkkdGFibGVbJ3RoZWFkLXVuZGVybGluZSddID0gJHByb3BlcnRpZXNbJ1RIRUFELVVOREVSTElORSddOwoJCX0KCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydCT1JERVInXSkpIHsKCQkJJGJvcmQgPSAkdGhpcy0+bXBkZi0+Ym9yZGVyX2RldGFpbHMoJHByb3BlcnRpZXNbJ0JPUkRFUiddKTsKCQkJaWYgKCRib3JkWydzJ10pIHsKCQkJCSR0YWJsZVsnYm9yZGVyJ10gPSBCb3JkZXI6OkFMTDsKCQkJCSR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnUiddID0gJGJvcmQ7CgkJCQkkdGFibGVbJ2JvcmRlcl9kZXRhaWxzJ11bJ0wnXSA9ICRib3JkOwoJCQkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydUJ10gPSAkYm9yZDsKCQkJCSR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnQiddID0gJGJvcmQ7CgkJCX0KCQl9CgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydCT1JERVItUklHSFQnXSkpIHsKCQkJaWYgKCR0YWJsZVsnZGlyZWN0aW9uJ10gPT09ICdydGwnKSB7ICAvLyAqT1RMKgoJCQkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydSJ10gPSAkdGhpcy0+bXBkZi0+Ym9yZGVyX2RldGFpbHMoJHByb3BlcnRpZXNbJ0JPUkRFUi1MRUZUJ10pOyAvLyAqT1RMKgoJCQl9IC8vICpPVEwqCgkJCWVsc2UgeyAvLyAqT1RMKgoJCQkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydSJ10gPSAkdGhpcy0+bXBkZi0+Ym9yZGVyX2RldGFpbHMoJHByb3BlcnRpZXNbJ0JPUkRFUi1SSUdIVCddKTsKCQkJfSAvLyAqT1RMKgoJCQkkdGhpcy0+bXBkZi0+c2V0Qm9yZGVyKCR0YWJsZVsnYm9yZGVyJ10sIEJvcmRlcjo6UklHSFQsICR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnUiddWydzJ10pOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0JPUkRFUi1MRUZUJ10pKSB7CgkJCWlmICgkdGFibGVbJ2RpcmVjdGlvbiddID09PSAncnRsJykgeyAgLy8gKk9UTCoKCQkJCSR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnTCddID0gJHRoaXMtPm1wZGYtPmJvcmRlcl9kZXRhaWxzKCRwcm9wZXJ0aWVzWydCT1JERVItUklHSFQnXSk7IC8vICpPVEwqCgkJCX0gLy8gKk9UTCoKCQkJZWxzZSB7IC8vICpPVEwqCgkJCQkkdGFibGVbJ2JvcmRlcl9kZXRhaWxzJ11bJ0wnXSA9ICR0aGlzLT5tcGRmLT5ib3JkZXJfZGV0YWlscygkcHJvcGVydGllc1snQk9SREVSLUxFRlQnXSk7CgkJCX0gLy8gKk9UTCoKCQkJJHRoaXMtPm1wZGYtPnNldEJvcmRlcigkdGFibGVbJ2JvcmRlciddLCBCb3JkZXI6OkxFRlQsICR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnTCddWydzJ10pOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0JPUkRFUi1CT1RUT00nXSkpIHsKCQkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydCJ10gPSAkdGhpcy0+bXBkZi0+Ym9yZGVyX2RldGFpbHMoJHByb3BlcnRpZXNbJ0JPUkRFUi1CT1RUT00nXSk7CgkJCSR0aGlzLT5tcGRmLT5zZXRCb3JkZXIoJHRhYmxlWydib3JkZXInXSwgQm9yZGVyOjpCT1RUT00sICR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnQiddWydzJ10pOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0JPUkRFUi1UT1AnXSkpIHsKCQkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydUJ10gPSAkdGhpcy0+bXBkZi0+Ym9yZGVyX2RldGFpbHMoJHByb3BlcnRpZXNbJ0JPUkRFUi1UT1AnXSk7CgkJCSR0aGlzLT5tcGRmLT5zZXRCb3JkZXIoJHRhYmxlWydib3JkZXInXSwgQm9yZGVyOjpUT1AsICR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnVCddWydzJ10pOwoJCX0KCgkJJHRoaXMtPm1wZGYtPnRhYmxlX2JvcmRlcl9jc3Nfc2V0ID0gMDsKCQlpZiAoJHRhYmxlWydib3JkZXInXSkgewoJCQkkdGhpcy0+bXBkZi0+dGFibGVfYm9yZGVyX2Nzc19zZXQgPSAxOwoJCX0KCgkJLy8gbVBERiA2CgkJaWYgKCFlbXB0eSgkcHJvcGVydGllc1snTEFORyddKSkgewoJCQlpZiAoJHRoaXMtPm1wZGYtPmF1dG9MYW5nVG9Gb250ICYmICEkdGhpcy0+bXBkZi0+dXNpbmdDb3JlRm9udCkgewoJCQkJaWYgKCRwcm9wZXJ0aWVzWydMQU5HJ10gIT0gJHRoaXMtPm1wZGYtPmRlZmF1bHRfbGFuZyAmJiAkcHJvcGVydGllc1snTEFORyddICE9PSAnVVRGLTgnKSB7CgkJCQkJbGlzdCAoJGNvcmVTdWl0YWJsZSwgJG1wZGZfcGRmX3VuaWZvbnQpID0gJHRoaXMtPmxhbmd1YWdlVG9Gb250LT5nZXRMYW5ndWFnZU9wdGlvbnMoJHByb3BlcnRpZXNbJ0xBTkcnXSwgJHRoaXMtPm1wZGYtPnVzZUFkb2JlQ0pLKTsKCQkJCQlpZiAoJG1wZGZfcGRmX3VuaWZvbnQpIHsKCQkJCQkJJHByb3BlcnRpZXNbJ0ZPTlQtRkFNSUxZJ10gPSAkbXBkZl9wZGZfdW5pZm9udDsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJJHRoaXMtPm1wZGYtPmN1cnJlbnRMYW5nID0gJHByb3BlcnRpZXNbJ0xBTkcnXTsKCQl9CgoKCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0ZPTlQtRkFNSUxZJ10pKSB7CgkJCSR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnQgPSAkcHJvcGVydGllc1snRk9OVC1GQU1JTFknXTsKCQkJJHRoaXMtPm1wZGYtPlNldEZvbnQoJHRoaXMtPm1wZGYtPmRlZmF1bHRfZm9udCwgJycsIDAsIGZhbHNlKTsKCQl9CgkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllc1snRk9OVC1GQU1JTFknXSA9ICR0aGlzLT5tcGRmLT5Gb250RmFtaWx5OwoKCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0ZPTlQtU0laRSddKSkgewoJCQlpZiAoJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPiAxKSB7CgkJCQkkdGFibGVGb250U2l6ZSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXNbJ0ZPTlQtU0laRSddKTsKCQkJCSRtbXNpemUgPSAkdGhpcy0+c2l6ZUNvbnZlcnRlci0+Y29udmVydCgkcHJvcGVydGllc1snRk9OVC1TSVpFJ10sICR0YWJsZUZvbnRTaXplKTsKCQkJfSBlbHNlIHsKCQkJCSRtbXNpemUgPSAkdGhpcy0+c2l6ZUNvbnZlcnRlci0+Y29udmVydCgkcHJvcGVydGllc1snRk9OVC1TSVpFJ10sICR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnRfc2l6ZSAvIE1wZGY6OlNDQUxFKTsKCQkJfQoJCQlpZiAoJG1tc2l6ZSkgewoJCQkJJHRoaXMtPm1wZGYtPmRlZmF1bHRfZm9udF9zaXplID0gJG1tc2l6ZSAqIE1wZGY6OlNDQUxFOwoJCQkJJHRoaXMtPm1wZGYtPlNldEZvbnRTaXplKCR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnRfc2l6ZSwgZmFsc2UpOwoJCQl9CgkJfQoJCSR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXNbJ0ZPTlQtU0laRSddID0gJHRoaXMtPm1wZGYtPkZvbnRTaXplIC4gJ21tJzsKCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydGT05ULVdFSUdIVCddKSkgewoJCQlpZiAoc3RydG91cHBlcigkcHJvcGVydGllc1snRk9OVC1XRUlHSFQnXSkgPT09ICdCT0xEJykgewoJCQkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllc1snRk9OVC1XRUlHSFQnXSA9ICdCT0xEJzsKCQkJfQoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0ZPTlQtU1RZTEUnXSkpIHsKCQkJaWYgKHN0cnRvdXBwZXIoJHByb3BlcnRpZXNbJ0ZPTlQtU1RZTEUnXSkgPT09ICdJVEFMSUMnKSB7CgkJCQkkdGhpcy0+bXBkZi0+YmFzZV90YWJsZV9wcm9wZXJ0aWVzWydGT05ULVNUWUxFJ10gPSAnSVRBTElDJzsKCQkJfQoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ0NPTE9SJ10pKSB7CgkJCSR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXNbJ0NPTE9SJ10gPSAkcHJvcGVydGllc1snQ09MT1InXTsKCQl9CgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydGT05ULUtFUk5JTkcnXSkpIHsKCQkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllc1snRk9OVC1LRVJOSU5HJ10gPSAkcHJvcGVydGllc1snRk9OVC1LRVJOSU5HJ107CgkJfQoJCWlmIChpc3NldCgkcHJvcGVydGllc1snTEVUVEVSLVNQQUNJTkcnXSkpIHsKCQkJJHRoaXMtPm1wZGYtPmJhc2VfdGFibGVfcHJvcGVydGllc1snTEVUVEVSLVNQQUNJTkcnXSA9ICRwcm9wZXJ0aWVzWydMRVRURVItU1BBQ0lORyddOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ1dPUkQtU1BBQ0lORyddKSkgewoJCQkkdGhpcy0+bXBkZi0+YmFzZV90YWJsZV9wcm9wZXJ0aWVzWydXT1JELVNQQUNJTkcnXSA9ICRwcm9wZXJ0aWVzWydXT1JELVNQQUNJTkcnXTsKCQl9CgkJLy8gbVBERiA2CgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydIWVBIRU5TJ10pKSB7CgkJCSR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXNbJ0hZUEhFTlMnXSA9ICRwcm9wZXJ0aWVzWydIWVBIRU5TJ107CgkJfQoJCWlmICghZW1wdHkoJHByb3BlcnRpZXNbJ0xJTkUtSEVJR0hUJ10pKSB7CgkJCSR0YWJsZVsnY2VsbExpbmVIZWlnaHQnXSA9ICR0aGlzLT5tcGRmLT5maXhMaW5laGVpZ2h0KCRwcm9wZXJ0aWVzWydMSU5FLUhFSUdIVCddKTsKCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPT0gMSkgewoJCQkkdGFibGVbJ2NlbGxMaW5lSGVpZ2h0J10gPSAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydsaW5lX2hlaWdodCddOwoJCX0KCgkJaWYgKCFlbXB0eSgkcHJvcGVydGllc1snTElORS1TVEFDS0lORy1TVFJBVEVHWSddKSkgewoJCQkkdGFibGVbJ2NlbGxMaW5lU3RhY2tpbmdTdHJhdGVneSddID0gc3RydG9sb3dlcigkcHJvcGVydGllc1snTElORS1TVEFDS0lORy1TVFJBVEVHWSddKTsKCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPT0gMSAmJiBpc3NldCgkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydsaW5lX3N0YWNraW5nX3N0cmF0ZWd5J10pKSB7CgkJCSR0YWJsZVsnY2VsbExpbmVTdGFja2luZ1N0cmF0ZWd5J10gPSAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydsaW5lX3N0YWNraW5nX3N0cmF0ZWd5J107CgkJfSBlbHNlIHsKCQkJJHRhYmxlWydjZWxsTGluZVN0YWNraW5nU3RyYXRlZ3knXSA9ICdpbmxpbmUtbGluZS1oZWlnaHQnOwoJCX0KCgkJaWYgKCFlbXB0eSgkcHJvcGVydGllc1snTElORS1TVEFDS0lORy1TSElGVCddKSkgewoJCQkkdGFibGVbJ2NlbGxMaW5lU3RhY2tpbmdTaGlmdCddID0gc3RydG9sb3dlcigkcHJvcGVydGllc1snTElORS1TVEFDS0lORy1TSElGVCddKTsKCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPT0gMSAmJiBpc3NldCgkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydsaW5lX3N0YWNraW5nX3NoaWZ0J10pKSB7CgkJCSR0YWJsZVsnY2VsbExpbmVTdGFja2luZ1NoaWZ0J10gPSAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydsaW5lX3N0YWNraW5nX3NoaWZ0J107CgkJfSBlbHNlIHsKCQkJJHRhYmxlWydjZWxsTGluZVN0YWNraW5nU2hpZnQnXSA9ICdjb25zaWRlci1zaGlmdHMnOwoJCX0KCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydQQURESU5HLUxFRlQnXSkpIHsKCQkJJHRhYmxlWydwYWRkaW5nJ11bJ0wnXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydQQURESU5HLUxFRlQnXSwgJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXSwgJHRoaXMtPm1wZGYtPkZvbnRTaXplLCBmYWxzZSk7CgkJfQoJCWlmIChpc3NldCgkcHJvcGVydGllc1snUEFERElORy1SSUdIVCddKSkgewoJCQkkdGFibGVbJ3BhZGRpbmcnXVsnUiddID0gJHRoaXMtPnNpemVDb252ZXJ0ZXItPmNvbnZlcnQoJHByb3BlcnRpZXNbJ1BBRERJTkctUklHSFQnXSwgJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXSwgJHRoaXMtPm1wZGYtPkZvbnRTaXplLCBmYWxzZSk7CgkJfQoJCWlmIChpc3NldCgkcHJvcGVydGllc1snUEFERElORy1UT1AnXSkpIHsKCQkJJHRhYmxlWydwYWRkaW5nJ11bJ1QnXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydQQURESU5HLVRPUCddLCAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydpbm5lcl93aWR0aCddLCAkdGhpcy0+bXBkZi0+Rm9udFNpemUsIGZhbHNlKTsKCQl9CgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydQQURESU5HLUJPVFRPTSddKSkgewoJCQkkdGFibGVbJ3BhZGRpbmcnXVsnQiddID0gJHRoaXMtPnNpemVDb252ZXJ0ZXItPmNvbnZlcnQoJHByb3BlcnRpZXNbJ1BBRERJTkctQk9UVE9NJ10sICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2lubmVyX3dpZHRoJ10sICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwgZmFsc2UpOwoJCX0KCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydNQVJHSU4tVE9QJ10pKSB7CgkJCWlmICgkbGFzdGJvdHRvbW1hcmdpbikgewoJCQkJJHRtcCA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydNQVJHSU4tVE9QJ10sICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2lubmVyX3dpZHRoJ10sICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwgZmFsc2UpOwoJCQkJaWYgKCR0bXAgPiAkbGFzdGJvdHRvbW1hcmdpbikgewoJCQkJCSRwcm9wZXJ0aWVzWydNQVJHSU4tVE9QJ10gPSAoaW50KSAkcHJvcGVydGllc1snTUFSR0lOLVRPUCddIC0gJGxhc3Rib3R0b21tYXJnaW47CgkJCQl9IGVsc2UgewoJCQkJCSRwcm9wZXJ0aWVzWydNQVJHSU4tVE9QJ10gPSAwOwoJCQkJfQoJCQl9CgkJCSR0YWJsZVsnbWFyZ2luJ11bJ1QnXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydNQVJHSU4tVE9QJ10sICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2lubmVyX3dpZHRoJ10sICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwgZmFsc2UpOwoJCX0KCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydNQVJHSU4tQk9UVE9NJ10pKSB7CgkJCSR0YWJsZVsnbWFyZ2luJ11bJ0InXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydNQVJHSU4tQk9UVE9NJ10sICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2lubmVyX3dpZHRoJ10sICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwgZmFsc2UpOwoJCX0KCQlpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ01BUkdJTi1MRUZUJ10pKSB7CgkJCSR0YWJsZVsnbWFyZ2luJ11bJ0wnXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydNQVJHSU4tTEVGVCddLCAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydpbm5lcl93aWR0aCddLCAkdGhpcy0+bXBkZi0+Rm9udFNpemUsIGZhbHNlKTsKCQl9CgoJCWlmIChpc3NldCgkcHJvcGVydGllc1snTUFSR0lOLVJJR0hUJ10pKSB7CgkJCSR0YWJsZVsnbWFyZ2luJ11bJ1InXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydNQVJHSU4tUklHSFQnXSwgJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXSwgJHRoaXMtPm1wZGYtPkZvbnRTaXplLCBmYWxzZSk7CgkJfQoJCWlmIChpc3NldCgkcHJvcGVydGllc1snTUFSR0lOLUxFRlQnXSwgJHByb3BlcnRpZXNbJ01BUkdJTi1SSUdIVCddKSAmJiBzdHJ0b2xvd2VyKCRwcm9wZXJ0aWVzWydNQVJHSU4tTEVGVCddKSA9PT0gJ2F1dG8nICYmIHN0cnRvbG93ZXIoJHByb3BlcnRpZXNbJ01BUkdJTi1SSUdIVCddKSA9PT0gJ2F1dG8nKSB7CgkJCSR0YWJsZVsnYSddID0gJ0MnOwoJCX0gZWxzZWlmIChpc3NldCgkcHJvcGVydGllc1snTUFSR0lOLUxFRlQnXSkgJiYgc3RydG9sb3dlcigkcHJvcGVydGllc1snTUFSR0lOLUxFRlQnXSkgPT09ICdhdXRvJykgewoJCQkkdGFibGVbJ2EnXSA9ICdSJzsKCQl9IGVsc2VpZiAoaXNzZXQoJHByb3BlcnRpZXNbJ01BUkdJTi1SSUdIVCddKSAmJiBzdHJ0b2xvd2VyKCRwcm9wZXJ0aWVzWydNQVJHSU4tUklHSFQnXSkgPT09ICdhdXRvJykgewoJCQkkdGFibGVbJ2EnXSA9ICdMJzsKCQl9CgoJCWlmIChpc3NldCgkcHJvcGVydGllc1snQk9SREVSLUNPTExBUFNFJ10pICYmIHN0cnRvdXBwZXIoJHByb3BlcnRpZXNbJ0JPUkRFUi1DT0xMQVBTRSddKSA9PT0gJ1NFUEFSQVRFJykgewoJCQkkdGFibGVbJ2JvcmRlcnNfc2VwYXJhdGUnXSA9IHRydWU7CgkJfSBlbHNlIHsKCQkJJHRhYmxlWydib3JkZXJzX3NlcGFyYXRlJ10gPSBmYWxzZTsKCQl9CgoJCS8vIG1QREYgNS43LjMKCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydCT1JERVItU1BBQ0lORy1IJ10pKSB7CgkJCSR0YWJsZVsnYm9yZGVyX3NwYWNpbmdfSCddID0gJHRoaXMtPnNpemVDb252ZXJ0ZXItPmNvbnZlcnQoJHByb3BlcnRpZXNbJ0JPUkRFUi1TUEFDSU5HLUgnXSwgJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXSwgJHRoaXMtPm1wZGYtPkZvbnRTaXplLCBmYWxzZSk7CgkJfQoJCWlmIChpc3NldCgkcHJvcGVydGllc1snQk9SREVSLVNQQUNJTkctViddKSkgewoJCQkkdGFibGVbJ2JvcmRlcl9zcGFjaW5nX1YnXSA9ICR0aGlzLT5zaXplQ29udmVydGVyLT5jb252ZXJ0KCRwcm9wZXJ0aWVzWydCT1JERVItU1BBQ0lORy1WJ10sICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2lubmVyX3dpZHRoJ10sICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwgZmFsc2UpOwoJCX0KCQkvLyBtUERGIDUuNy4zCgkJaWYgKCEkdGFibGVbJ2JvcmRlcnNfc2VwYXJhdGUnXSkgewoJCQkkdGFibGVbJ2JvcmRlcl9zcGFjaW5nX0gnXSA9ICR0YWJsZVsnYm9yZGVyX3NwYWNpbmdfViddID0gMDsKCQl9CgoJCWlmIChpc3NldCgkcHJvcGVydGllc1snRU1QVFktQ0VMTFMnXSkpIHsKCQkJJHRhYmxlWydlbXB0eV9jZWxscyddID0gc3RydG9sb3dlcigkcHJvcGVydGllc1snRU1QVFktQ0VMTFMnXSk7ICAvLyAnaGlkZScgIG9yICdzaG93JwoJCX0gZWxzZSB7CgkJCSR0YWJsZVsnZW1wdHlfY2VsbHMnXSA9ICcnOwoJCX0KCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydQQUdFLUJSRUFLLUlOU0lERSddKSAmJiBzdHJ0b3VwcGVyKCRwcm9wZXJ0aWVzWydQQUdFLUJSRUFLLUlOU0lERSddKSA9PT0gJ0FWT0lEJyAmJiAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxICYmICEkdGhpcy0+bXBkZi0+d3JpdGluZ0hUTUxmb290ZXIpIHsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlX2tlZXBfdG9nZXRoZXIgPSB0cnVlOwoJCX0gZWxzZWlmICgkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxKSB7CgkJCSR0aGlzLT5tcGRmLT50YWJsZV9rZWVwX3RvZ2V0aGVyID0gZmFsc2U7CgkJfQoJCWlmIChpc3NldCgkcHJvcGVydGllc1snUEFHRS1CUkVBSy1BRlRFUiddKSAmJiAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxKSB7CgkJCSR0YWJsZVsncGFnZV9icmVha19hZnRlciddID0gc3RydG91cHBlcigkcHJvcGVydGllc1snUEFHRS1CUkVBSy1BRlRFUiddKTsKCQl9CgoJCS8qIC0tIEJBQ0tHUk9VTkRTIC0tICovCgkJaWYgKGlzc2V0KCRwcm9wZXJ0aWVzWydCQUNLR1JPVU5ELUdSQURJRU5UJ10pICYmICEkdGhpcy0+bXBkZi0+a3d0ICYmICEkdGhpcy0+bXBkZi0+Q29sQWN0aXZlKSB7CgkJCSR0YWJsZVsnZ3JhZGllbnQnXSA9ICRwcm9wZXJ0aWVzWydCQUNLR1JPVU5ELUdSQURJRU5UJ107CgkJfQoKCQlpZiAoIWVtcHR5KCRwcm9wZXJ0aWVzWydCQUNLR1JPVU5ELUlNQUdFJ10pICYmICEkdGhpcy0+bXBkZi0+a3d0ICYmICEkdGhpcy0+bXBkZi0+Q29sQWN0aXZlKSB7CgkJCSRyZXQgPSAkdGhpcy0+bXBkZi0+U2V0QmFja2dyb3VuZCgkcHJvcGVydGllcywgJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXSk7CgkJCWlmICgkcmV0KSB7CgkJCQkkdGFibGVbJ2JhY2tncm91bmQtaW1hZ2UnXSA9ICRyZXQ7CgkJCX0KCQl9CgkJLyogLS0gRU5EIEJBQ0tHUk9VTkRTIC0tICovCgoJCWlmIChpc3NldCgkcHJvcGVydGllc1snT1ZFUkZMT1cnXSkpIHsKCQkJJHRhYmxlWydvdmVyZmxvdyddID0gc3RydG9sb3dlcigkcHJvcGVydGllc1snT1ZFUkZMT1cnXSk7ICAvLyAnaGlkZGVuJyAnd3JhcCcgb3IgJ3Zpc2libGUnIG9yICdhdXRvJwoJCQlpZiAoKCR0aGlzLT5tcGRmLT5Db2xBY3RpdmUgfHwgJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPiAxKSAmJiAkdGFibGVbJ292ZXJmbG93J10gPT09ICd2aXNpYmxlJykgewoJCQkJdW5zZXQoJHRhYmxlWydvdmVyZmxvdyddKTsKCQkJfQoJCX0KCgkJaWYgKGlzc2V0KCRhdHRyWydDRUxMUEFERElORyddKSkgewoJCQkkdGFibGVbJ2NlbGxfcGFkZGluZyddID0gJGF0dHJbJ0NFTExQQURESU5HJ107CgkJfSBlbHNlIHsKCQkJJHRhYmxlWydjZWxsX3BhZGRpbmcnXSA9IGZhbHNlOwoJCX0KCgkJaWYgKGlzc2V0KCRhdHRyWydCT1JERVInXSkgJiYgJGF0dHJbJ0JPUkRFUiddID09ICcxJykgewoJCQkkdGhpcy0+bXBkZi0+dGFibGVfYm9yZGVyX2F0dHJfc2V0ID0gMTsKCQkJJGJvcmQgPSAkdGhpcy0+bXBkZi0+Ym9yZGVyX2RldGFpbHMoJyMwMDAwMDAgMXB4IHNvbGlkJyk7CgkJCWlmICgkYm9yZFsncyddKSB7CgkJCQkkdGFibGVbJ2JvcmRlciddID0gQm9yZGVyOjpBTEw7CgkJCQkkdGFibGVbJ2JvcmRlcl9kZXRhaWxzJ11bJ1InXSA9ICRib3JkOwoJCQkJJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydMJ10gPSAkYm9yZDsKCQkJCSR0YWJsZVsnYm9yZGVyX2RldGFpbHMnXVsnVCddID0gJGJvcmQ7CgkJCQkkdGFibGVbJ2JvcmRlcl9kZXRhaWxzJ11bJ0InXSA9ICRib3JkOwoJCQl9CgkJfSBlbHNlIHsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlX2JvcmRlcl9hdHRyX3NldCA9IDA7CgkJfQoKCQlpZiAoJHcpIHsKCQkJJG1heHdpZHRoID0gJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXTsKCQkJaWYgKCR0YWJsZVsnYm9yZGVyc19zZXBhcmF0ZSddKSB7CgkJCQkkdGJsYmx3ID0gJHRhYmxlWydtYXJnaW4nXVsnTCddICsgJHRhYmxlWydtYXJnaW4nXVsnUiddICsgJHRhYmxlWydib3JkZXJfZGV0YWlscyddWydMJ11bJ3cnXSAvIDIgKyAkdGFibGVbJ2JvcmRlcl9kZXRhaWxzJ11bJ1InXVsndyddIC8gMjsKCQkJfSBlbHNlIHsKCQkJCSR0YmxibHcgPSAkdGFibGVbJ21hcmdpbiddWydMJ10gKyAkdGFibGVbJ21hcmdpbiddWydSJ10gKyAkdGFibGVbJ21heF9jZWxsX2JvcmRlcl93aWR0aCddWydMJ10gLyAyICsgJHRhYmxlWydtYXhfY2VsbF9ib3JkZXJfd2lkdGgnXVsnUiddIC8gMjsKCQkJfQoJCQlpZiAoc3RycG9zKCR3LCAnJScpICYmICR0aGlzLT5tcGRmLT50YWJsZUxldmVsID09IDEgJiYgISR0aGlzLT5tcGRmLT5pZ25vcmVfdGFibGVfcGVyY2VudHMpIHsKCQkJCS8vICUgbmVlZHMgdG8gYmUgb2YgaW5uZXIgYm94IHdpdGhvdXQgdGFibGUgbWFyZ2lucyBldGMuCgkJCQkkbWF4d2lkdGggLT0gJHRibGJsdzsKCQkJCSR3bW0gPSAkdGhpcy0+c2l6ZUNvbnZlcnRlci0+Y29udmVydCgkdywgJG1heHdpZHRoLCAkdGhpcy0+bXBkZi0+Rm9udFNpemUsIGZhbHNlKTsKCQkJCSR0YWJsZVsndyddID0gJHdtbSArICR0YmxibHc7CgkJCX0KCQkJaWYgKHN0cnBvcygkdywgJyUnKSAmJiAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA+IDEgJiYgISR0aGlzLT5tcGRmLT5pZ25vcmVfdGFibGVfcGVyY2VudHMgJiYgJHRoaXMtPm1wZGYtPmtlZXBfdGFibGVfcHJvcG9ydGlvbnMpIHsKCQkJCSR0YWJsZVsnd3BlcmNlbnQnXSA9IChpbnQpICR3OyAgLy8gbWFrZXMgODAlIC0+IDgwCgkJCX0KCQkJaWYgKCFzdHJwb3MoJHcsICclJykgJiYgISR0aGlzLT5tcGRmLT5pZ25vcmVfdGFibGVfd2lkdGhzKSB7CgkJCQkkd21tID0gJHRoaXMtPnNpemVDb252ZXJ0ZXItPmNvbnZlcnQoJHcsICR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ2lubmVyX3dpZHRoJ10sICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwgZmFsc2UpOwoJCQkJJHRhYmxlWyd3J10gPSAkd21tICsgJHRibGJsdzsKCQkJfQoJCQlpZiAoISR0aGlzLT5tcGRmLT5rZWVwX3RhYmxlX3Byb3BvcnRpb25zKSB7CgkJCQlpZiAoaXNzZXQoJHRhYmxlWyd3J10pICYmICR0YWJsZVsndyddID4gJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXSkgewoJCQkJCSR0YWJsZVsndyddID0gJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnaW5uZXJfd2lkdGgnXTsKCQkJCX0KCQkJfQoJCX0KCgkJaWYgKGlzc2V0KCRhdHRyWydBVVRPU0laRSddKSAmJiAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxKSB7CgkJCSR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQgPSAkYXR0clsnQVVUT1NJWkUnXTsKCQkJaWYgKCR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQgPCAxKSB7CgkJCQkkdGhpcy0+bXBkZi0+c2hyaW5rX3RoaXNfdGFibGVfdG9fZml0ID0gMTsKCQkJfQoJCX0KCQlpZiAoaXNzZXQoJGF0dHJbJ1JPVEFURSddKSAmJiAkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA9PSAxKSB7CgkJCSR0aGlzLT5tcGRmLT50YWJsZV9yb3RhdGUgPSAkYXR0clsnUk9UQVRFJ107CgkJfQoKCQkvLysrKysrKysrKysrKysrKysrKysrKysrKysrKysKCQlpZiAoJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZSkgewoJCQkkdGhpcy0+bXBkZi0+dGJyb3RfTGlua3MgPSBbXTsKCQkJJHRoaXMtPm1wZGYtPnRicm90X0Fubm90cyA9IFtdOwoJCQkkdGhpcy0+bXBkZi0+dGJyb3RGb3JtcyA9IFtdOwoJCQkkdGhpcy0+bXBkZi0+dGJyb3RfQk1vdXRsaW5lcyA9IFtdOwoJCQkkdGhpcy0+bXBkZi0+dGJyb3RfdG9jID0gW107CgkJfQoKCQlpZiAoJHRoaXMtPm1wZGYtPmt3dCkgewoJCQlpZiAoJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZSkgewoJCQkJJHRoaXMtPm1wZGYtPnRhYmxlX2tlZXBfdG9nZXRoZXIgPSB0cnVlOwoJCQl9CgkJCSR0aGlzLT5tcGRmLT5rd3QgPSBmYWxzZTsKCQkJJHRoaXMtPm1wZGYtPmt3dF9zYXZlZCA9IHRydWU7CgkJfQoKCQkvLysrKysrKysrKysrKysrKysrKysrKysrKysrKysKCQkkdGhpcy0+bXBkZi0+cGxhaW5DZWxsX3Byb3BlcnRpZXMgPSBbXTsKCQl1bnNldCgkdGFibGUpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjbG9zZSgmJGFodG1sLCAmJGlodG1sKQoJewoKCQkkdGhpcy0+bXBkZi0+bGFzdG9wdGlvbmFsdGFnID0gJyc7CgkJdW5zZXQoJHRoaXMtPmNzc01hbmFnZXItPnRhYmxlY2FzY2FkZUNTU1skdGhpcy0+Y3NzTWFuYWdlci0+dGJDU1NsdmxdKTsKCQkkdGhpcy0+Y3NzTWFuYWdlci0+dGJDU1NsdmwtLTsKCQkkdGhpcy0+bXBkZi0+aWdub3JlZm9sbG93aW5nc3BhY2VzID0gdHJ1ZTsgLy9FbGltaW5hdGUgZXhjZWVkaW5nIGxlZnQtc2lkZSBzcGFjZXMKCQkvLyBtUERGIDUuNy4zCgkJLy8gSW4gY2FzZSBhIGNvbHNwYW4gKG9uIGEgcm93IGFmdGVyIGZpcnN0IHJvdykgZXhjZWVkZWQgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGFibGUKCQlmb3IgKCRrID0gMDsgJGsgPCAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyduciddOyAkaysrKSB7CgkJCWZvciAoJGwgPSAwOyAkbCA8ICR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ25jJ107ICRsKyspIHsKCQkJCWlmICghaXNzZXQoJHRoaXMtPm1wZGYtPmNlbGxbJGtdWyRsXSkpIHsKCQkJCQlmb3IgKCRuID0gJGwgLSAxOyAkbiA+PSAwOyAkbi0tKSB7CgkJCQkJCWlmIChpc3NldCgkdGhpcy0+bXBkZi0+Y2VsbFska11bJG5dKSAmJiAkdGhpcy0+bXBkZi0+Y2VsbFska11bJG5dICE9IDApIHsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgkJCQkJfQoJCQkJCSR0aGlzLT5tcGRmLT5jZWxsWyRrXVskbF0gPSBbCgkJCQkJCSdhJyA9PiAnQycsCgkJCQkJCSd2YScgPT4gJ00nLAoJCQkJCQknUicgPT4gZmFsc2UsCgkJCQkJCSdub3dyYXAnID0+IGZhbHNlLAoJCQkJCQknYmdjb2xvcicgPT4gZmFsc2UsCgkJCQkJCSdwYWRkaW5nJyA9PiBbJ0wnID0+IGZhbHNlLCAnUicgPT4gZmFsc2UsICdUJyA9PiBmYWxzZSwgJ0InID0+IGZhbHNlXSwKCQkJCQkJJ2dyYWRpZW50JyA9PiBmYWxzZSwKCQkJCQkJJ3MnID0+IDAsCgkJCQkJCSdtYXhzJyA9PiAwLAoJCQkJCQkndGV4dGJ1ZmZlcicgPT4gW10sCgkJCQkJCSdkZnMnID0+ICR0aGlzLT5tcGRmLT5Gb250U2l6ZSwKCQkJCQldOwoKCQkJCQlpZiAoISR0aGlzLT5tcGRmLT5zaW1wbGVUYWJsZXMpIHsKCQkJCQkJJHRoaXMtPm1wZGYtPmNlbGxbJGtdWyRsXVsnYm9yZGVyJ10gPSAwOwoJCQkJCQkkdGhpcy0+bXBkZi0+Y2VsbFska11bJGxdWydib3JkZXJfZGV0YWlscyddWydSJ10gPSBbJ3MnID0+IDAsICd3JyA9PiAwLCAnYycgPT4gZmFsc2UsICdzdHlsZScgPT4gJ25vbmUnLCAnZG9tJyA9PiAwXTsKCQkJCQkJJHRoaXMtPm1wZGYtPmNlbGxbJGtdWyRsXVsnYm9yZGVyX2RldGFpbHMnXVsnTCddID0gWydzJyA9PiAwLCAndycgPT4gMCwgJ2MnID0+IGZhbHNlLCAnc3R5bGUnID0+ICdub25lJywgJ2RvbScgPT4gMF07CgkJCQkJCSR0aGlzLT5tcGRmLT5jZWxsWyRrXVskbF1bJ2JvcmRlcl9kZXRhaWxzJ11bJ1QnXSA9IFsncycgPT4gMCwgJ3cnID0+IDAsICdjJyA9PiBmYWxzZSwgJ3N0eWxlJyA9PiAnbm9uZScsICdkb20nID0+IDBdOwoJCQkJCQkkdGhpcy0+bXBkZi0+Y2VsbFska11bJGxdWydib3JkZXJfZGV0YWlscyddWydCJ10gPSBbJ3MnID0+IDAsICd3JyA9PiAwLCAnYycgPT4gZmFsc2UsICdzdHlsZScgPT4gJ25vbmUnLCAnZG9tJyA9PiAwXTsKCQkJCQkJJHRoaXMtPm1wZGYtPmNlbGxbJGtdWyRsXVsnYm9yZGVyX2RldGFpbHMnXVsnbWJ3J10gPSBbJ0JMJyA9PiAwLCAnQlInID0+IDAsICdSVCcgPT4gMCwgJ1JCJyA9PiAwLCAnVEwnID0+IDAsICdUUicgPT4gMCwgJ0xUJyA9PiAwLCAnTEInID0+IDBdOwoJCQkJCQlpZiAoJHRoaXMtPm1wZGYtPnBhY2tUYWJsZURhdGEpIHsKCQkJCQkJCSR0aGlzLT5tcGRmLT5jZWxsWyRrXVskbF1bJ2JvcmRlcmJpbiddID0gJHRoaXMtPm1wZGYtPl9wYWNrQ2VsbEJvcmRlcigkdGhpcy0+bXBkZi0+Y2VsbFska11bJGxdKTsKCQkJCQkJCXVuc2V0KCR0aGlzLT5tcGRmLT5jZWxsWyRrXVskbF1bJ2JvcmRlciddLCAkdGhpcy0+bXBkZi0+Y2VsbFska11bJGxdWydib3JkZXJfZGV0YWlscyddKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydjZWxscyddID0gJHRoaXMtPm1wZGYtPmNlbGw7CgkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnd2MnXSA9IGFycmF5X3BhZCgKCQkJW10sCgkJCSR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ25jJ10sCgkJCVsnbWl3JyA9PiAwLCAnbWF3JyA9PiAwXQoJCSk7CgkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnaHInXSA9IGFycmF5X3BhZCgKCQkJW10sCgkJCSR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ25yJ10sCgkJCTAKCQkpOwoKCQkvLyBNb3ZlIHRhYmxlIGZvb3RlciA8dGZvb3Q+IHJvdyB0byBlbmQgb2YgdGFibGUKCQlpZiAoaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnaXNfdGZvb3QnXSkKCQkJJiYgY291bnQoJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnaXNfdGZvb3QnXSkpIHsKCQkJJHRmcm93cyA9IFtdOwoJCQlmb3JlYWNoICgkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydpc190Zm9vdCddIGFzICRyID0+ICR2YWwpIHsKCQkJCWlmICgkdmFsKSB7CgkJCQkJJHRmcm93c1tdID0gJHI7CgkJCQl9CgkJCX0KCQkJJHRlbXAgPSBbXTsKCQkJJHRlbXB0ZiA9IFtdOwoJCQlmb3JlYWNoICgkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydjZWxscyddIGFzICRrID0+ICRyb3cpIHsKCQkJCWlmIChpbl9hcnJheSgkaywgJHRmcm93cykpIHsKCQkJCQkkdGVtcHRmW10gPSAkcm93OwoJCQkJfSBlbHNlIHsKCQkJCQkkdGVtcFtdID0gJHJvdzsKCQkJCX0KCQkJfQoJCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydpc190Zm9vdCddID0gW107CgkJCWZvciAoJGkgPSBjb3VudCgkdGVtcCk7ICRpIDwgKGNvdW50KCR0ZW1wKSArIGNvdW50KCR0ZW1wdGYpKTsgJGkrKykgewoJCQkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnaXNfdGZvb3QnXVskaV0gPSB0cnVlOwoJCQl9CgkJCS8vIFVwZGF0ZSBuZXN0ZWRwb3Mgcm93IHJlZmVyZW5jZXMKCQkJaWYgKGlzc2V0KCR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbCArIDFdKSAmJiBjb3VudCgkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgKyAxXSkpIHsKCQkJCWZvcmVhY2ggKCR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbCArIDFdIGFzICRuaWQgPT4gJG5lc3RlZCkgewoJCQkJCSR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbCArIDFdWyRuaWRdWyduZXN0ZWRwb3MnXVswXSAtPSBjb3VudCgkdGVtcHRmKTsKCQkJCX0KCQkJfQoJCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydjZWxscyddID0gYXJyYXlfbWVyZ2UoJHRlbXAsICR0ZW1wdGYpOwoKCQkJLy8gVXBkYXRlIG90aGVyIGFyYXlzIHNldCBvbiByb3cgbnVtYmVyCgkJCS8vIFt0cmJhY2tncm91bmQtaW1hZ2VzXSBbdHJncmFkaWVudHNdCgkJCSR0ZW1wdHJiZ2kgPSBbXTsKCQkJJHRlbXB0cmJnZyA9IFtdOwoJCQkkdGVtcHRyYmdjID0gW107CgkJCWlmIChpc3NldCgkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydiZ2NvbG9yJ11bLTFdKSkgewoJCQkJJHRlbXB0cmJnY1stMV0gPSAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydiZ2NvbG9yJ11bLTFdOwoJCQl9CgkJCWZvciAoJGsgPSAwOyAkayA8ICR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ25yJ107ICRrKyspIHsKCQkJCWlmICghaW5fYXJyYXkoJGssICR0ZnJvd3MpKSB7CgkJCQkJJHRlbXB0cmJnaVtdID0gaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsndHJiYWNrZ3JvdW5kLWltYWdlcyddWyRrXSkKCQkJCQkJPyAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmJhY2tncm91bmQtaW1hZ2VzJ11bJGtdCgkJCQkJCTogbnVsbDsKCQkJCQkkdGVtcHRyYmdnW10gPSBpc3NldCgkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmdyYWRpZW50cyddWyRrXSkKCQkJCQkJPyAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmdyYWRpZW50cyddWyRrXQoJCQkJCQk6IG51bGw7CgkJCQkJJHRlbXB0cmJnY1tdID0gaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnYmdjb2xvciddWyRrXSkKCQkJCQkJPyAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydiZ2NvbG9yJ11bJGtdCgkJCQkJCTogbnVsbDsKCQkJCX0KCQkJfQoJCQlmb3IgKCRrID0gMDsgJGsgPCAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyduciddOyAkaysrKSB7CgkJCQlpZiAoaW5fYXJyYXkoJGssICR0ZnJvd3MpKSB7CgkJCQkJJHRlbXB0cmJnaVtdID0gaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsndHJiYWNrZ3JvdW5kLWltYWdlcyddWyRrXSkKCQkJCQkJPyAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmJhY2tncm91bmQtaW1hZ2VzJ11bJGtdCgkJCQkJCTogbnVsbDsKCQkJCQkkdGVtcHRyYmdnW10gPSBpc3NldCgkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmdyYWRpZW50cyddWyRrXSkKCQkJCQkJPyAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmdyYWRpZW50cyddWyRrXQoJCQkJCQk6IG51bGw7CgkJCQkJJHRlbXB0cmJnY1tdID0gaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnYmdjb2xvciddWyRrXSkKCQkJCQkJPyAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydiZ2NvbG9yJ11bJGtdCgkJCQkJCTogbnVsbDsKCQkJCX0KCQkJfQoJCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmJhY2tncm91bmQtaW1hZ2VzJ10gPSAkdGVtcHRyYmdpOwoJCQkkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWyd0cmdyYWRpZW50cyddID0gJHRlbXB0cmJnZzsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsnYmdjb2xvciddID0gJHRlbXB0cmJnYzsKCQkJLy8gU2hvdWxkIFVwZGF0ZSBhbGwgb3RoZXIgYXJheXMgc2V0IG9uIHJvdyBudW1iZXIsIGJ1dCBjZWxsIHByb3BlcnRpZXMgaGF2ZSBiZWVuIHNldCBzbyBub3QgbmVlZGVkCgkJCS8vIFtiZ2NvbG9yXSBbdHJib3JkZXItbGVmdF0gW3RyYm9yZGVyLXJpZ2h0XSBbdHJib3JkZXItdG9wXSBbdHJib3JkZXItYm90dG9tXQoJCX0KCgkJaWYgKCR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ2RpcmVjdGlvbiddID09PSAncnRsJykgewoJCQkkdGhpcy0+bXBkZi0+X3JldmVyc2VUYWJsZURpcigkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dKTsKCQl9CgoJCS8vIEZpeCBCb3JkZXJzICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoJCSR0aGlzLT5tcGRmLT5fZml4VGFibGVCb3JkZXJzKCR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV0pOwoKCQlpZiAoJHRoaXMtPm1wZGYtPkNvbEFjdGl2ZSkgewoJCQkkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlID0gMDsKCQl9IC8vICpDT0xVTU5TKgoJCWlmICgkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlIDw+IDApIHsKCQkJJHRoaXMtPm1wZGYtPnRhYmxlYnVmZmVyID0gJyc7CgkJCS8vIE1heCB3aWR0aCBmb3Igcm90YXRlZCB0YWJsZQoJCQkkdGhpcy0+bXBkZi0+dGJyb3RfbWF4dyA9ICR0aGlzLT5tcGRmLT5oIC0gKCR0aGlzLT5tcGRmLT55ICsgJHRoaXMtPm1wZGYtPmJNYXJnaW4gKyAxKTsKCQkJJHRoaXMtPm1wZGYtPnRicm90X21heGggPSAkdGhpcy0+bXBkZi0+YmxrWyR0aGlzLT5tcGRmLT5ibGtsdmxdWydpbm5lcl93aWR0aCddOyAgLy8gTWF4IHdpZHRoIGZvciByb3RhdGVkIHRhYmxlCgkJCSR0aGlzLT5tcGRmLT50YnJvdF9hbGlnbiA9ICR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ2EnXTsKCQl9CgkJJHRoaXMtPm1wZGYtPnNocmluX2sgPSAxOwoKCQlpZiAoJHRoaXMtPm1wZGYtPnNocmlua190YWJsZXNfdG9fZml0IDwgMSkgewoJCQkkdGhpcy0+bXBkZi0+c2hyaW5rX3RhYmxlc190b19maXQgPSAxOwoJCX0KCQlpZiAoISR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQpIHsKCQkJJHRoaXMtPm1wZGYtPnNocmlua190aGlzX3RhYmxlX3RvX2ZpdCA9ICR0aGlzLT5tcGRmLT5zaHJpbmtfdGFibGVzX3RvX2ZpdDsKCQl9CgoJCWlmICgkdGhpcy0+bXBkZi0+dGFibGVMZXZlbCA+IDEpIHsKCQkJLy8gZGVhbCB3aXRoIG5lc3RlZCB0YWJsZQoKCQkJJHRoaXMtPm1wZGYtPl90YWJsZUNvbHVtbldpZHRoKCR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV0sIHRydWUpOwoKCQkJJHRtaXcgPSAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydtaXcnXTsKCQkJJHRtYXcgPSAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydtYXcnXTsKCQkJJHRsID0gJHRoaXMtPm1wZGYtPnRhYmxlWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXVskdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdXVsndGwnXTsKCgkJCS8vIEdvIGRvd24gdG8gbG93ZXIgdGFibGUgbGV2ZWwKCQkJJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwtLTsKCgkJCS8vIFJlc2V0IGxvd2VyIGxldmVsIHRhYmxlCgkJCSR0aGlzLT5tcGRmLT5iYXNlX3RhYmxlX3Byb3BlcnRpZXMgPSAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydiYXNlUHJvcGVydGllcyddOwoJCQkvLyBtUERGIDUuNy4zCgkJCSR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnQgPSAkdGhpcy0+bXBkZi0+YmFzZV90YWJsZV9wcm9wZXJ0aWVzWydGT05ULUZBTUlMWSddOwoJCQkkdGhpcy0+bXBkZi0+U2V0Rm9udCgkdGhpcy0+bXBkZi0+ZGVmYXVsdF9mb250LCAnJywgMCwgZmFsc2UpOwoJCQkkdGhpcy0+bXBkZi0+ZGVmYXVsdF9mb250X3NpemUgPSAkdGhpcy0+c2l6ZUNvbnZlcnRlci0+Y29udmVydCgkdGhpcy0+bXBkZi0+YmFzZV90YWJsZV9wcm9wZXJ0aWVzWydGT05ULVNJWkUnXSkgKiBNcGRmOjpTQ0FMRTsKCQkJJHRoaXMtPm1wZGYtPlNldEZvbnRTaXplKCR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnRfc2l6ZSwgZmFsc2UpOwoKCQkJJHRoaXMtPm1wZGYtPmNlbGwgPSAkdGhpcy0+bXBkZi0+dGFibGVbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdWyR0aGlzLT5tcGRmLT50YmN0clskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1dWydjZWxscyddOwoJCQlpZiAoaXNzZXQoJHRoaXMtPm1wZGYtPmNlbGxbJ1BBUkVOVENFTEwnXSkpIHsKCQkJCWlmICgkdGhpcy0+bXBkZi0+Y2VsbFsnUEFSRU5UQ0VMTCddKSB7CgkJCQkJJHRoaXMtPm1wZGYtPnJlc3RvcmVJbmxpbmVQcm9wZXJ0aWVzKCR0aGlzLT5tcGRmLT5jZWxsWydQQVJFTlRDRUxMJ10pOwoJCQkJfQoJCQkJdW5zZXQoJHRoaXMtPm1wZGYtPmNlbGxbJ1BBUkVOVENFTEwnXSk7CgkJCX0KCQkJJHRoaXMtPm1wZGYtPnJvdyA9ICR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ2N1cnJyb3cnXTsKCQkJJHRoaXMtPm1wZGYtPmNvbCA9ICR0aGlzLT5tcGRmLT50YWJsZVskdGhpcy0+bXBkZi0+dGFibGVMZXZlbF1bJHRoaXMtPm1wZGYtPnRiY3RyWyR0aGlzLT5tcGRmLT50YWJsZUxldmVsXV1bJ2N1cnJjb2wnXTsKCQkJJG9iamF0dHIgPSBbXTsKCQkJJG9iamF0dHJbJ3R5cGUnXSA9ICduZXN0ZWR0YWJsZSc7CgkJCSRvYmphdHRyWyduZXN0ZWRjb250ZW50J10gPSAkdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgKyAxXTsKCQkJJG9iamF0dHJbJ3RhYmxlJ10gPSAkdGhpcy0+bXBkZi0+dGJjdHJbJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWxdOwoJCQkkb2JqYXR0clsncm93J10gPSAkdGhpcy0+bXBkZi0+cm93OwoJCQkkb2JqYXR0clsnY29sJ10gPSAkdGhpcy0+bXBkZi0+Y29sOwoJCQkkb2JqYXR0clsnbGV2ZWwnXSA9ICR0aGlzLT5tcGRmLT50YWJsZUxldmVsOwoJCQkkZSA9ICJceGJiXHhhNFx4YWN0eXBlPW5lc3RlZHRhYmxlLG9iamF0dHI9IiAuIHNlcmlhbGl6ZSgkb2JqYXR0cikgLiAiXHhiYlx4YTRceGFjIjsKCQkJJHRoaXMtPm1wZGYtPl9zYXZlQ2VsbFRleHRCdWZmZXIoJGUpOwoJCQkkdGhpcy0+bXBkZi0+Y2VsbFskdGhpcy0+bXBkZi0+cm93XVskdGhpcy0+bXBkZi0+Y29sXVsncyddICs9ICR0bDsKCQkJaWYgKCFpc3NldCgkdGhpcy0+bXBkZi0+Y2VsbFskdGhpcy0+bXBkZi0+cm93XVskdGhpcy0+bXBkZi0+Y29sXVsnbWF4cyddKSkgewoJCQkJJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ21heHMnXSA9ICR0aGlzLT5tcGRmLT5jZWxsWyR0aGlzLT5tcGRmLT5yb3ddWyR0aGlzLT5tcGRmLT5jb2xdWydzJ107CgkJCX0gZWxzZWlmICgkdGhpcy0+bXBkZi0+Y2VsbFskdGhpcy0+bXBkZi0+cm93XVskdGhpcy0+bXBkZi0+Y29sXVsnbWF4cyddIDwgJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ3MnXSkgewoJCQkJJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ21heHMnXSA9ICR0aGlzLT5tcGRmLT5jZWxsWyR0aGlzLT5tcGRmLT5yb3ddWyR0aGlzLT5tcGRmLT5jb2xdWydzJ107CgkJCX0KCQkJJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ3MnXSA9IDA7IC8vIHJlc2V0CgkJCWlmICgoaXNzZXQoJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ25lc3RlZG1hdyddKSAmJiAkdGhpcy0+bXBkZi0+Y2VsbFskdGhpcy0+bXBkZi0+cm93XVskdGhpcy0+bXBkZi0+Y29sXVsnbmVzdGVkbWF3J10gPCAkdG1hdykKCQkJCXx8ICFpc3NldCgkdGhpcy0+bXBkZi0+Y2VsbFskdGhpcy0+bXBkZi0+cm93XVskdGhpcy0+bXBkZi0+Y29sXVsnbmVzdGVkbWF3J10pKSB7CgkJCQkkdGhpcy0+bXBkZi0+Y2VsbFskdGhpcy0+bXBkZi0+cm93XVskdGhpcy0+bXBkZi0+Y29sXVsnbmVzdGVkbWF3J10gPSAkdG1hdzsKCQkJfQoJCQlpZiAoKGlzc2V0KCR0aGlzLT5tcGRmLT5jZWxsWyR0aGlzLT5tcGRmLT5yb3ddWyR0aGlzLT5tcGRmLT5jb2xdWyduZXN0ZWRtaXcnXSkgJiYgJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ25lc3RlZG1pdyddIDwgJHRtaXcpCgkJCQl8fCAhaXNzZXQoJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ25lc3RlZG1pdyddKSkgewoJCQkJJHRoaXMtPm1wZGYtPmNlbGxbJHRoaXMtPm1wZGYtPnJvd11bJHRoaXMtPm1wZGYtPmNvbF1bJ25lc3RlZG1pdyddID0gJHRtaXc7CgkJCX0KCQkJJHRoaXMtPm1wZGYtPnRkYmVnaW4gPSB0cnVlOwoJCQkkdGhpcy0+bXBkZi0+bmVzdGVkdGFibGVqdXN0ZmluaXNoZWQgPSB0cnVlOwoJCQkkdGhpcy0+bXBkZi0+aWdub3JlZm9sbG93aW5nc3BhY2VzID0gdHJ1ZTsKCQkJcmV0dXJuOwoJCX0KCQkkdGhpcy0+bXBkZi0+Y01hcmdpbkwgPSAwOwoJCSR0aGlzLT5tcGRmLT5jTWFyZ2luUiA9IDA7CgkJJHRoaXMtPm1wZGYtPmNNYXJnaW5UID0gMDsKCQkkdGhpcy0+bXBkZi0+Y01hcmdpbkIgPSAwOwoJCSR0aGlzLT5tcGRmLT5jZWxsUGFkZGluZ0wgPSAwOwoJCSR0aGlzLT5tcGRmLT5jZWxsUGFkZGluZ1IgPSAwOwoJCSR0aGlzLT5tcGRmLT5jZWxsUGFkZGluZ1QgPSAwOwoJCSR0aGlzLT5tcGRmLT5jZWxsUGFkZGluZ0IgPSAwOwoKCQlpZiAoaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdWydvdmVyZmxvdyddKSAmJiAkdGhpcy0+bXBkZi0+dGFibGVbMV1bMV1bJ292ZXJmbG93J10gPT09ICd2aXNpYmxlJykgewoJCQlpZiAoJHRoaXMtPm1wZGYtPmt3dCB8fCAkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlIHx8ICR0aGlzLT5tcGRmLT50YWJsZV9rZWVwX3RvZ2V0aGVyIHx8ICR0aGlzLT5tcGRmLT5Db2xBY3RpdmUpIHsKCQkJCSR0aGlzLT5tcGRmLT5rd3QgPSBmYWxzZTsKCQkJCSR0aGlzLT5tcGRmLT50YWJsZV9yb3RhdGUgPSAwOwoJCQkJJHRoaXMtPm1wZGYtPnRhYmxlX2tlZXBfdG9nZXRoZXIgPSBmYWxzZTsKCQkJCS8vdGhyb3cgbmV3IFxNcGRmXE1wZGZFeGNlcHRpb24oIm1QREYgV2FybmluZzogWW91IGNhbm5vdCB1c2UgQ1NTIG92ZXJmbG93OnZpc2libGUgdG9nZXRoZXIgd2l0aCBhbnkgb2YgdGhlc2UgZnVuY3Rpb25zOgoJCQkJLy8gJ0tlZXAtd2l0aC10YWJsZScsIHJvdGF0ZWQgdGFibGVzLCBwYWdlLWJyZWFrLWluc2lkZTphdm9pZCwgb3IgY29sdW1ucyIpOwoJCQl9CgkJCSR0aGlzLT5tcGRmLT5fdGFibGVDb2x1bW5XaWR0aCgkdGhpcy0+bXBkZi0+dGFibGVbMV1bMV0sIHRydWUpOwoJCQkkdGhpcy0+bXBkZi0+X3RhYmxlV2lkdGgoJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdKTsKCQl9IGVsc2UgewoJCQlpZiAoISR0aGlzLT5tcGRmLT5rd3Rfc2F2ZWQpIHsKCQkJCSR0aGlzLT5tcGRmLT5rd3RfaGVpZ2h0ID0gMDsKCQkJfQoKCQkJbGlzdCgkY2hlY2ssICR0YWJsZW1pdykgPSAkdGhpcy0+bXBkZi0+X3RhYmxlQ29sdW1uV2lkdGgoJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdLCB0cnVlKTsKCQkJJHNhdmVfdGFibGUgPSAkdGhpcy0+bXBkZi0+dGFibGU7CgkJCSRyZXNldF90b19taW5pbXVtX3dpZHRoID0gZmFsc2U7CgkJCSRhZGRlZF9wYWdlID0gZmFsc2U7CgoJCQlpZiAoJGNoZWNrID4gMSkgewoJCQkJaWYgKCRjaGVjayA+ICR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQgJiYgJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZSkgewoJCQkJCWlmICgkdGhpcy0+bXBkZi0+eSAhPSAkdGhpcy0+bXBkZi0+dE1hcmdpbikgewoJCQkJCQkkdGhpcy0+bXBkZi0+QWRkUGFnZSgkdGhpcy0+bXBkZi0+Q3VyT3JpZW50YXRpb24pOwoJCQkJCQkkdGhpcy0+bXBkZi0+a3d0X21vdmVkID0gdHJ1ZTsKCQkJCQl9CgkJCQkJJGFkZGVkX3BhZ2UgPSB0cnVlOwoJCQkJCSR0aGlzLT5tcGRmLT50YnJvdF9tYXh3ID0gJHRoaXMtPm1wZGYtPmggLSAoJHRoaXMtPm1wZGYtPnkgKyAkdGhpcy0+bXBkZi0+Yk1hcmdpbiArIDUpIC0gJHRoaXMtPm1wZGYtPmt3dF9oZWlnaHQ7CgkJCQkJLy8kY2hlY2sgPSAkdGFibGVtaXcvJHRoaXMtPm1wZGYtPnRicm90X21heHc7IAkvLyB1bmRvIGFueSBzaHJpbmsKCQkJCQkkY2hlY2sgPSAxOyAgLy8gdW5kbyBhbnkgc2hyaW5rCgkJCQl9CgkJCQkkcmVzZXRfdG9fbWluaW11bV93aWR0aCA9IHRydWU7CgkJCX0KCgkJCWlmICgkcmVzZXRfdG9fbWluaW11bV93aWR0aCkgewoJCQkJJHRoaXMtPm1wZGYtPnNocmluX2sgPSAkY2hlY2s7CgoJCQkJJHRoaXMtPm1wZGYtPmRlZmF1bHRfZm9udF9zaXplIC89ICR0aGlzLT5tcGRmLT5zaHJpbl9rOwoJCQkJJHRoaXMtPm1wZGYtPlNldEZvbnRTaXplKCR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnRfc2l6ZSwgZmFsc2UpOwoKCQkJCSR0aGlzLT5tcGRmLT5zaHJpbmtUYWJsZSgkdGhpcy0+bXBkZi0+dGFibGVbMV1bMV0sICR0aGlzLT5tcGRmLT5zaHJpbl9rKTsKCgkJCQkkdGhpcy0+bXBkZi0+X3RhYmxlQ29sdW1uV2lkdGgoJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdKTsgLy8gcmVwZWF0CgkJCQkvLyBTdGFydGluZyBhdCAkdGhpcy0+bXBkZi0+aW5uZXJtb3N0VGFibGVMZXZlbAoJCQkJLy8gU2hyaW5rIHRhYmxlIHZhbHVlcyAtIGFuZCByZWRvIGNvbHVtbldpZHRoCgkJCQlmb3IgKCRsdmwgPSAyOyAkbHZsIDw9ICR0aGlzLT5tcGRmLT5pbm5lcm1vc3RUYWJsZUxldmVsOyAkbHZsKyspIHsKCQkJCQlmb3IgKCRuaWQgPSAxOyAkbmlkIDw9ICR0aGlzLT5tcGRmLT50YmN0clskbHZsXTsgJG5pZCsrKSB7CgkJCQkJCSR0aGlzLT5tcGRmLT5zaHJpbmtUYWJsZSgkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF0sICR0aGlzLT5tcGRmLT5zaHJpbl9rKTsKCQkJCQkJJHRoaXMtPm1wZGYtPl90YWJsZUNvbHVtbldpZHRoKCR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXSk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQkvLyBTZXQgdGFibGUgY2VsbCB3aWR0aHMgZm9yIHRvcCBsZXZlbCB0YWJsZQoJCQkvLyBVc2UgJHNocmluX2sgdG8gcmVzaXplIGJ1dCBkb24ndCBjaGFuZ2UgYWdhaW4KCQkJJHRoaXMtPm1wZGYtPlNldExpbmVIZWlnaHQoJycsICR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXVsnY2VsbExpbmVIZWlnaHQnXSk7CgoJCQkvLyBUb3AgbGV2ZWwgdGFibGUKCQkJJHRoaXMtPm1wZGYtPl90YWJsZVdpZHRoKCR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXSk7CgkJfQoKCQkvLyBOb3cgd29yayB0aHJvdWdoIGFueSBuZXN0ZWQgdGFibGVzIHNldHRpbmcgY2hpbGQgdGFibGVbdyddID0gcGFyZW50IGNlbGxbJ3cnXQoJCS8vIE5vdyBkbyBuZXN0ZWQgdGFibGVzIF90YWJsZVdpZHRoCgkJZm9yICgkbHZsID0gMjsgJGx2bCA8PSAkdGhpcy0+bXBkZi0+aW5uZXJtb3N0VGFibGVMZXZlbDsgJGx2bCsrKSB7CgkJCWZvciAoJG5pZCA9IDE7ICRuaWQgPD0gJHRoaXMtPm1wZGYtPnRiY3RyWyRsdmxdOyAkbmlkKyspIHsKCQkJCS8vIEhFUkUgc2V0IGNoaWxkIHRhYmxlIHdpZHRoID0gY2VsbCB3aWR0aAoKCQkJCWxpc3QoJHBhcmVudHJvdywgJHBhcmVudGNvbCwgJHBhcmVudG5pZCkgPSAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF1bJ25lc3RlZHBvcyddOwoKCQkJCSRjID0gJiAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydjZWxscyddWyRwYXJlbnRyb3ddWyRwYXJlbnRjb2xdOwoKCQkJCWlmIChpc3NldCgkY1snY29sc3BhbiddKSAmJiAkY1snY29sc3BhbiddID4gMSkgewoJCQkJCSRwYXJlbnR3aWR0aCA9IDA7CgkJCQkJZm9yICgkY3MgPSAwOyAkY3MgPCAkY1snY29sc3BhbiddOyAkY3MrKykgewoJCQkJCQkkcGFyZW50d2lkdGggKz0gJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnd2MnXVskcGFyZW50Y29sICsgJGNzXTsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCSRwYXJlbnR3aWR0aCA9ICR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ3djJ11bJHBhcmVudGNvbF07CgkJCQl9CgoJCQkJLy8kcGFyZW50d2lkdGggLT0gQUxMT1cgRk9SIFBBRERJTkcgRVRDLiBpbiBwYXJlbnQgY2VsbAoJCQkJaWYgKCEkdGhpcy0+bXBkZi0+c2ltcGxlVGFibGVzKSB7CgkJCQkJaWYgKCR0aGlzLT5tcGRmLT5wYWNrVGFibGVEYXRhKSB7CgkJCQkJCWxpc3QoJGJ0LCAkYnIsICRiYiwgJGJsKSA9ICR0aGlzLT5tcGRmLT5fZ2V0Qm9yZGVyV2lkdGhzKCRjWydib3JkZXJiaW4nXSk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJGJyID0gJGNbJ2JvcmRlcl9kZXRhaWxzJ11bJ1InXVsndyddOwoJCQkJCQkkYmwgPSAkY1snYm9yZGVyX2RldGFpbHMnXVsnTCddWyd3J107CgkJCQkJfQoJCQkJCWlmICgkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydib3JkZXJzX3NlcGFyYXRlJ10pIHsKCQkJCQkJJHBhcmVudHdpZHRoIC09ICRiciArICRibCArICRjWydwYWRkaW5nJ11bJ0wnXSArICRjWydwYWRkaW5nJ11bJ1InXSArICR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ2JvcmRlcl9zcGFjaW5nX0gnXTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkcGFyZW50d2lkdGggLT0gJGJyIC8gMiArICRibCAvIDIgKyAkY1sncGFkZGluZyddWydMJ10gKyAkY1sncGFkZGluZyddWydSJ107CgkJCQkJfQoJCQkJfSBlbHNlaWYgKCR0aGlzLT5tcGRmLT5zaW1wbGVUYWJsZXMpIHsKCQkJCQlpZiAoJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnYm9yZGVyc19zZXBhcmF0ZSddKSB7CgkJCQkJCSRwYXJlbnR3aWR0aCAtPSAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydzaW1wbGUnXVsnYm9yZGVyX2RldGFpbHMnXVsnTCddWyd3J10KCQkJCQkJCSsgJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnc2ltcGxlJ11bJ2JvcmRlcl9kZXRhaWxzJ11bJ1InXVsndyddICsgJGNbJ3BhZGRpbmcnXVsnTCddCgkJCQkJCQkrICRjWydwYWRkaW5nJ11bJ1InXSArICR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ2JvcmRlcl9zcGFjaW5nX0gnXTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkcGFyZW50d2lkdGggLT0gJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnc2ltcGxlJ11bJ2JvcmRlcl9kZXRhaWxzJ11bJ0wnXVsndyddIC8gMgoJCQkJCQkJKyAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydzaW1wbGUnXVsnYm9yZGVyX2RldGFpbHMnXVsnUiddWyd3J10gLyAyICsgJGNbJ3BhZGRpbmcnXVsnTCddICsgJGNbJ3BhZGRpbmcnXVsnUiddOwoJCQkJCX0KCQkJCX0KCQkJCWlmICghZW1wdHkoJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmxdWyRuaWRdWyd3cGVyY2VudCddKSAmJiAkbHZsID4gMSkgewoJCQkJCSR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXVsndyddID0gJHBhcmVudHdpZHRoOwoJCQkJfSBlbHNlaWYgKCRwYXJlbnR3aWR0aCA+ICR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXVsnbWF3J10pIHsKCQkJCQkkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF1bJ3cnXSA9ICR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXVsnbWF3J107CgkJCQl9IGVsc2UgewoJCQkJCSR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXVsndyddID0gJHBhcmVudHdpZHRoOwoJCQkJfQoJCQkJdW5zZXQoJGMpOwoJCQkJJHRoaXMtPm1wZGYtPl90YWJsZVdpZHRoKCR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXSk7CgkJCX0KCQl9CgoJCS8vIFN0YXJ0aW5nIGF0ICR0aGlzLT5tcGRmLT5pbm5lcm1vc3RUYWJsZUxldmVsCgkJLy8gQ2FzY2FkZSBiYWNrIHVwIG5lc3RlZCB0YWJsZXM6IHNldHRpbmcgaGVpZ2h0cyBiYWNrIHVwIHRoZSB0cmVlCgkJZm9yICgkbHZsID0gJHRoaXMtPm1wZGYtPmlubmVybW9zdFRhYmxlTGV2ZWw7ICRsdmwgPiAwOyAkbHZsLS0pIHsKCQkJZm9yICgkbmlkID0gMTsgJG5pZCA8PSAkdGhpcy0+bXBkZi0+dGJjdHJbJGx2bF07ICRuaWQrKykgewoJCQkJbGlzdCgkdGFibGVoZWlnaHQsICRtYXhyb3doZWlnaHQsICRmdWxscGFnZSwgJHJlbWFpbmluZ3BhZ2UsICRtYXhmaXJzdHJvd2hlaWdodCkgPSAkdGhpcy0+bXBkZi0+X3RhYmxlSGVpZ2h0KCR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXSk7CgkJCX0KCQl9CgoJCWlmICgkdGhpcy0+bXBkZi0+dGFibGVbMV1bMV1bJ292ZXJmbG93J10gPT09ICd2aXNpYmxlJykgewoJCQlpZiAoJG1heHJvd2hlaWdodCA+ICRmdWxscGFnZSkgewoJCQkJdGhyb3cgbmV3IFxNcGRmXE1wZGZFeGNlcHRpb24oJ21QREYgV2FybmluZzogQSBUYWJsZSByb3cgaXMgZ3JlYXRlciB0aGFuIGF2YWlsYWJsZSBoZWlnaHQuIFlvdSBjYW5ub3QgdXNlIENTUyBvdmVyZmxvdzp2aXNpYmxlJyk7CgkJCX0KCQkJaWYgKCRtYXhmaXJzdHJvd2hlaWdodCA+ICRyZW1haW5pbmdwYWdlKSB7CgkJCQkkdGhpcy0+bXBkZi0+QWRkUGFnZSgkdGhpcy0+bXBkZi0+Q3VyT3JpZW50YXRpb24pOwoJCQl9CgkJCSRyID0gMDsKCQkJJGMgPSAwOwoJCQkkcCA9IDA7CgkJCSR5ID0gMDsKCQkJJGZpbmlzaGVkID0gZmFsc2U7CgkJCXdoaWxlICghJGZpbmlzaGVkKSB7CgkJCQlsaXN0KCRmaW5pc2hlZCwgJHIsICRjLCAkcCwgJHksICR5MCkgPSAkdGhpcy0+bXBkZi0+X3RhYmxlV3JpdGUoJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdLCB0cnVlLCAkciwgJGMsICRwLCAkeSk7CgkJCQlpZiAoISRmaW5pc2hlZCkgewoJCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbik7CgkJCQkJLy8gSWYgcHJpbnRlZCBzb21ldGhpbmcgb24gZmlyc3Qgc3ByZWFkLCBzZXQgc2FtZSB5CgkJCQkJaWYgKCRyID09IDAgJiYgJHkwID4gLTEpIHsKCQkJCQkJJHRoaXMtPm1wZGYtPnkgPSAkeTA7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfSBlbHNlIHsKCQkJJHJlY2FsY3VsYXRlID0gMTsKCQkJJGZvcmNlcmVjYWxjID0gZmFsc2U7CgkJCS8vIFJFU0laSU5HIEFMR09SSVRITQoJCQlpZiAoJG1heHJvd2hlaWdodCA+ICRmdWxscGFnZSkgewoJCQkJJHJlY2FsY3VsYXRlID0gJHRoaXMtPnRic3FydCgkbWF4cm93aGVpZ2h0IC8gJGZ1bGxwYWdlLCAxKTsKCQkJCSRmb3JjZXJlY2FsYyA9IHRydWU7CgkJCX0gZWxzZWlmICgkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlKSB7IC8vIE5CICRyZW1haW5pbmdwYWdlID09ICRmdWxscGFnZSA9PSB0aGUgd2lkdGggb2YgdGhlIHBhZ2UKCQkJCWlmICgkdGFibGVoZWlnaHQgPiAkcmVtYWluaW5ncGFnZSkgewoJCQkJCS8vIElmIGNhbiBmaXQgb24gcmVtYWluZGVyIG9mIHBhZ2Ugd2hpbHN0IHJlc3BlY3RpbmcgYXV0c2l6ZSB2YWx1ZS4uCgkJCQkJaWYgKCgkdGhpcy0+bXBkZi0+c2hyaW5fayAqICR0aGlzLT50YnNxcnQoJHRhYmxlaGVpZ2h0IC8gJHJlbWFpbmluZ3BhZ2UsIDEpKSA8PSAkdGhpcy0+bXBkZi0+c2hyaW5rX3RoaXNfdGFibGVfdG9fZml0KSB7CgkJCQkJCSRyZWNhbGN1bGF0ZSA9ICR0aGlzLT50YnNxcnQoJHRhYmxlaGVpZ2h0IC8gJHJlbWFpbmluZ3BhZ2UsIDEpOwoJCQkJCX0gZWxzZWlmICghJGFkZGVkX3BhZ2UpIHsKCQkJCQkJaWYgKCR0aGlzLT5tcGRmLT55ICE9ICR0aGlzLT5tcGRmLT50TWFyZ2luKSB7CgkJCQkJCQkkdGhpcy0+bXBkZi0+QWRkUGFnZSgkdGhpcy0+bXBkZi0+Q3VyT3JpZW50YXRpb24pOwoJCQkJCQkJJHRoaXMtPm1wZGYtPmt3dF9tb3ZlZCA9IHRydWU7CgkJCQkJCX0KCQkJCQkJJGFkZGVkX3BhZ2UgPSB0cnVlOwoJCQkJCQkkdGhpcy0+bXBkZi0+dGJyb3RfbWF4dyA9ICR0aGlzLT5tcGRmLT5oIC0gKCR0aGlzLT5tcGRmLT55ICsgJHRoaXMtPm1wZGYtPmJNYXJnaW4gKyA1KSAtICR0aGlzLT5tcGRmLT5rd3RfaGVpZ2h0OwoJCQkJCQkvLyAwLjAwMSB0byBmb3JjZSBpdCB0byByZWNhbGN1bGF0ZQoJCQkJCQkkcmVjYWxjdWxhdGUgPSAoMSAvICR0aGlzLT5tcGRmLT5zaHJpbl9rKSArIDAuMDAxOyAgLy8gdW5kbyBhbnkgc2hyaW5rCgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQkkcmVjYWxjdWxhdGUgPSAxOwoJCQkJfQoJCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnRhYmxlX2tlZXBfdG9nZXRoZXIgfHwgKCR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXVsnbnInXSA9PSAxICYmICEkdGhpcy0+bXBkZi0+d3JpdGluZ0hUTUxmb290ZXIpKSB7CgkJCQlpZiAoJHRhYmxlaGVpZ2h0ID4gJGZ1bGxwYWdlKSB7CgkJCQkJaWYgKCgkdGhpcy0+bXBkZi0+c2hyaW5fayAqICR0aGlzLT50YnNxcnQoJHRhYmxlaGVpZ2h0IC8gJGZ1bGxwYWdlLCAxKSkgPD0gJHRoaXMtPm1wZGYtPnNocmlua190aGlzX3RhYmxlX3RvX2ZpdCkgewoJCQkJCQkkcmVjYWxjdWxhdGUgPSAkdGhpcy0+dGJzcXJ0KCR0YWJsZWhlaWdodCAvICRmdWxscGFnZSwgMSk7CgkJCQkJfSBlbHNlaWYgKCR0aGlzLT5tcGRmLT50YWJsZU1pblNpemVQcmlvcml0eSkgewoJCQkJCQkkdGhpcy0+bXBkZi0+dGFibGVfa2VlcF90b2dldGhlciA9IGZhbHNlOwoJCQkJCQkkcmVjYWxjdWxhdGUgPSAxLjAwMTsKCQkJCQl9IGVsc2UgewoJCQkJCQlpZiAoJHRoaXMtPm1wZGYtPnkgIT0gJHRoaXMtPm1wZGYtPnRNYXJnaW4pIHsKCQkJCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbik7CgkJCQkJCQkkdGhpcy0+bXBkZi0+a3d0X21vdmVkID0gdHJ1ZTsKCQkJCQkJfQoJCQkJCQkkYWRkZWRfcGFnZSA9IHRydWU7CgkJCQkJCSR0aGlzLT5tcGRmLT50YnJvdF9tYXh3ID0gJHRoaXMtPm1wZGYtPmggLSAoJHRoaXMtPm1wZGYtPnkgKyAkdGhpcy0+bXBkZi0+Yk1hcmdpbiArIDUpIC0gJHRoaXMtPm1wZGYtPmt3dF9oZWlnaHQ7CgkJCQkJCSRyZWNhbGN1bGF0ZSA9ICR0aGlzLT50YnNxcnQoJHRhYmxlaGVpZ2h0IC8gJGZ1bGxwYWdlLCAxKTsKCQkJCQl9CgkJCQl9IGVsc2VpZiAoJHRhYmxlaGVpZ2h0ID4gJHJlbWFpbmluZ3BhZ2UpIHsKCQkJCQkvLyBJZiBjYW4gZml0IG9uIHJlbWFpbmRlciBvZiBwYWdlIHdoaWxzdCByZXNwZWN0aW5nIGF1dHNpemUgdmFsdWUuLgoJCQkJCWlmICgoJHRoaXMtPm1wZGYtPnNocmluX2sgKiAkdGhpcy0+dGJzcXJ0KCR0YWJsZWhlaWdodCAvICRyZW1haW5pbmdwYWdlLCAxKSkgPD0gJHRoaXMtPm1wZGYtPnNocmlua190aGlzX3RhYmxlX3RvX2ZpdCkgewoJCQkJCQkkcmVjYWxjdWxhdGUgPSAkdGhpcy0+dGJzcXJ0KCR0YWJsZWhlaWdodCAvICRyZW1haW5pbmdwYWdlLCAxKTsKCQkJCQl9IGVsc2UgewoJCQkJCQlpZiAoJHRoaXMtPm1wZGYtPnkgIT0gJHRoaXMtPm1wZGYtPnRNYXJnaW4pIHsKCQkJCQkJCS8vIG1QREYgNgoJCQkJCQkJaWYgKCR0aGlzLT5tcGRmLT5BY2NlcHRQYWdlQnJlYWsoKSkgewoJCQkJCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbik7CgkJCQkJCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPkNvbEFjdGl2ZSAmJiAkdGFibGVoZWlnaHQgPiAoKCR0aGlzLT5tcGRmLT5oIC0gJHRoaXMtPm1wZGYtPmJNYXJnaW4pIC0gJHRoaXMtPm1wZGYtPnkwKSkgewoJCQkJCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbik7CgkJCQkJCQl9CgkJCQkJCQkkdGhpcy0+bXBkZi0+a3d0X21vdmVkID0gdHJ1ZTsKCQkJCQkJfQoJCQkJCQkkYWRkZWRfcGFnZSA9IHRydWU7CgkJCQkJCSR0aGlzLT5tcGRmLT50YnJvdF9tYXh3ID0gJHRoaXMtPm1wZGYtPmggLSAoJHRoaXMtPm1wZGYtPnkgKyAkdGhpcy0+bXBkZi0+Yk1hcmdpbiArIDUpIC0gJHRoaXMtPm1wZGYtPmt3dF9oZWlnaHQ7CgkJCQkJCSRyZWNhbGN1bGF0ZSA9IDEuMDAxOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJJHJlY2FsY3VsYXRlID0gMTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCSRyZWNhbGN1bGF0ZSA9IDE7CgkJCX0KCgkJCWlmICgkcmVjYWxjdWxhdGUgPiAkdGhpcy0+bXBkZi0+c2hyaW5rX3RoaXNfdGFibGVfdG9fZml0ICYmICEkZm9yY2VyZWNhbGMpIHsKCQkJCSRyZWNhbGN1bGF0ZSA9ICR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQ7CgkJCX0KCgkJCSRpdGVyYXRpb24gPSAxOwoKCQkJLy8gUkVDQUxDVUxBVEUKCQkJd2hpbGUgKCRyZWNhbGN1bGF0ZSA8PiAxKSB7CgkJCQkkdGhpcy0+bXBkZi0+c2hyaW5fazEgPSAkcmVjYWxjdWxhdGU7CgkJCQkkdGhpcy0+bXBkZi0+c2hyaW5fayAqPSAkcmVjYWxjdWxhdGU7CgkJCQkkdGhpcy0+bXBkZi0+ZGVmYXVsdF9mb250X3NpemUgLz0gJHRoaXMtPm1wZGYtPnNocmluX2sxOwoJCQkJJHRoaXMtPm1wZGYtPlNldEZvbnRTaXplKCR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnRfc2l6ZSwgZmFsc2UpOwoJCQkJJHRoaXMtPm1wZGYtPlNldExpbmVIZWlnaHQoJycsICR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXVsnY2VsbExpbmVIZWlnaHQnXSk7CgkJCQkkdGhpcy0+bXBkZi0+dGFibGUgPSAkc2F2ZV90YWJsZTsKCQkJCWlmICgkdGhpcy0+bXBkZi0+c2hyaW5fayA8PiAxKSB7CgkJCQkJJHRoaXMtPm1wZGYtPnNocmlua1RhYmxlKCR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXSwgJHRoaXMtPm1wZGYtPnNocmluX2spOwoJCQkJfQoJCQkJJHRoaXMtPm1wZGYtPl90YWJsZUNvbHVtbldpZHRoKCR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXSk7IC8vIHJlcGVhdAoJCQkJLy8gU3RhcnRpbmcgYXQgJHRoaXMtPm1wZGYtPmlubmVybW9zdFRhYmxlTGV2ZWwKCQkJCS8vIFNocmluayB0YWJsZSB2YWx1ZXMgLSBhbmQgcmVkbyBjb2x1bW5XaWR0aAoJCQkJZm9yICgkbHZsID0gMjsgJGx2bCA8PSAkdGhpcy0+bXBkZi0+aW5uZXJtb3N0VGFibGVMZXZlbDsgJGx2bCsrKSB7CgkJCQkJZm9yICgkbmlkID0gMTsgJG5pZCA8PSAkdGhpcy0+bXBkZi0+dGJjdHJbJGx2bF07ICRuaWQrKykgewoJCQkJCQlpZiAoJHRoaXMtPm1wZGYtPnNocmluX2sgPD4gMSkgewoJCQkJCQkJJHRoaXMtPm1wZGYtPnNocmlua1RhYmxlKCR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXSwgJHRoaXMtPm1wZGYtPnNocmluX2spOwoJCQkJCQl9CgkJCQkJCSR0aGlzLT5tcGRmLT5fdGFibGVDb2x1bW5XaWR0aCgkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF0pOwoJCQkJCX0KCQkJCX0KCQkJCS8vIFNldCB0YWJsZSBjZWxsIHdpZHRocyBmb3IgdG9wIGxldmVsIHRhYmxlCgkJCQkvLyBUb3AgbGV2ZWwgdGFibGUKCQkJCSR0aGlzLT5tcGRmLT5fdGFibGVXaWR0aCgkdGhpcy0+bXBkZi0+dGFibGVbMV1bMV0pOwoKCQkJCS8vIE5vdyB3b3JrIHRocm91Z2ggYW55IG5lc3RlZCB0YWJsZXMgc2V0dGluZyBjaGlsZCB0YWJsZVt3J10gPSBwYXJlbnQgY2VsbFsndyddCgkJCQkvLyBOb3cgZG8gbmVzdGVkIHRhYmxlcyBfdGFibGVXaWR0aAoJCQkJZm9yICgkbHZsID0gMjsgJGx2bCA8PSAkdGhpcy0+bXBkZi0+aW5uZXJtb3N0VGFibGVMZXZlbDsgJGx2bCsrKSB7CgkJCQkJZm9yICgkbmlkID0gMTsgJG5pZCA8PSAkdGhpcy0+bXBkZi0+dGJjdHJbJGx2bF07ICRuaWQrKykgewoJCQkJCQkvLyBIRVJFIHNldCBjaGlsZCB0YWJsZSB3aWR0aCA9IGNlbGwgd2lkdGgKCgkJCQkJCWxpc3QoJHBhcmVudHJvdywgJHBhcmVudGNvbCwgJHBhcmVudG5pZCkgPSAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF1bJ25lc3RlZHBvcyddOwoJCQkJCQkkYyA9ICYgJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnY2VsbHMnXVskcGFyZW50cm93XVskcGFyZW50Y29sXTsKCgkJCQkJCWlmIChpc3NldCgkY1snY29sc3BhbiddKSAmJiAkY1snY29sc3BhbiddID4gMSkgewoJCQkJCQkJJHBhcmVudHdpZHRoID0gMDsKCQkJCQkJCWZvciAoJGNzID0gMDsgJGNzIDwgJGNbJ2NvbHNwYW4nXTsgJGNzKyspIHsKCQkJCQkJCQkkcGFyZW50d2lkdGggKz0gJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnd2MnXVskcGFyZW50Y29sICsgJGNzXTsKCQkJCQkJCX0KCQkJCQkJfSBlbHNlIHsKCQkJCQkJCSRwYXJlbnR3aWR0aCA9ICR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ3djJ11bJHBhcmVudGNvbF07CgkJCQkJCX0KCgkJCQkJCS8vJHBhcmVudHdpZHRoIC09IEFMTE9XIEZPUiBQQURESU5HIEVUQy5pbiBwYXJlbnQgY2VsbAoJCQkJCQlpZiAoISR0aGlzLT5tcGRmLT5zaW1wbGVUYWJsZXMpIHsKCQkJCQkJCWlmICgkdGhpcy0+bXBkZi0+cGFja1RhYmxlRGF0YSkgewoJCQkJCQkJCWxpc3QoJGJ0LCAkYnIsICRiYiwgJGJsKSA9ICR0aGlzLT5tcGRmLT5fZ2V0Qm9yZGVyV2lkdGhzKCRjWydib3JkZXJiaW4nXSk7CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCSRiciA9ICRjWydib3JkZXJfZGV0YWlscyddWydSJ11bJ3cnXTsKCQkJCQkJCQkkYmwgPSAkY1snYm9yZGVyX2RldGFpbHMnXVsnTCddWyd3J107CgkJCQkJCQl9CgkJCQkJCQlpZiAoJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnYm9yZGVyc19zZXBhcmF0ZSddKSB7CgkJCQkJCQkJJHBhcmVudHdpZHRoIC09ICRiciArICRibCArICRjWydwYWRkaW5nJ11bJ0wnXSArICRjWydwYWRkaW5nJ11bJ1InXSArICR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ2JvcmRlcl9zcGFjaW5nX0gnXTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJJHBhcmVudHdpZHRoIC09ICRiciAvIDIgKyAkYmwgLyAyICsgJGNbJ3BhZGRpbmcnXVsnTCddICsgJGNbJ3BhZGRpbmcnXVsnUiddOwoJCQkJCQkJfQoJCQkJCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnNpbXBsZVRhYmxlcykgewoJCQkJCQkJaWYgKCR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ2JvcmRlcnNfc2VwYXJhdGUnXSkgewoJCQkJCQkJCSRwYXJlbnR3aWR0aCAtPSAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydzaW1wbGUnXVsnYm9yZGVyX2RldGFpbHMnXVsnTCddWyd3J10KCQkJCQkJCQkJKyAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydzaW1wbGUnXVsnYm9yZGVyX2RldGFpbHMnXVsnUiddWyd3J10gKyAkY1sncGFkZGluZyddWydMJ10gKyAkY1sncGFkZGluZyddWydSJ10KCQkJCQkJCQkJKyAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bCAtIDFdWyRwYXJlbnRuaWRdWydib3JkZXJfc3BhY2luZ19IJ107CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCSRwYXJlbnR3aWR0aCAtPSAoJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmwgLSAxXVskcGFyZW50bmlkXVsnc2ltcGxlJ11bJ2JvcmRlcl9kZXRhaWxzJ11bJ0wnXVsndyddCgkJCQkJCQkJCQkrICR0aGlzLT5tcGRmLT50YWJsZVskbHZsIC0gMV1bJHBhcmVudG5pZF1bJ3NpbXBsZSddWydib3JkZXJfZGV0YWlscyddWydSJ11bJ3cnXSkgLyAyICsgJGNbJ3BhZGRpbmcnXVsnTCddICsgJGNbJ3BhZGRpbmcnXVsnUiddOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCWlmICghZW1wdHkoJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmxdWyRuaWRdWyd3cGVyY2VudCddKSAmJiAkbHZsID4gMSkgewoJCQkJCQkJJHRoaXMtPm1wZGYtPnRhYmxlWyRsdmxdWyRuaWRdWyd3J10gPSAkcGFyZW50d2lkdGg7CgkJCQkJCX0gZWxzZWlmICgkcGFyZW50d2lkdGggPiAkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF1bJ21hdyddKSB7CgkJCQkJCQkkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF1bJ3cnXSA9ICR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXVsnbWF3J107CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF1bJ3cnXSA9ICRwYXJlbnR3aWR0aDsKCQkJCQkJfQoJCQkJCQl1bnNldCgkYyk7CgkJCQkJCSR0aGlzLT5tcGRmLT5fdGFibGVXaWR0aCgkdGhpcy0+bXBkZi0+dGFibGVbJGx2bF1bJG5pZF0pOwoJCQkJCX0KCQkJCX0KCgkJCQkvLyBTdGFydGluZyBhdCAkdGhpcy0+bXBkZi0+aW5uZXJtb3N0VGFibGVMZXZlbAoJCQkJLy8gQ2FzY2FkZSBiYWNrIHVwIG5lc3RlZCB0YWJsZXM6IHNldHRpbmcgaGVpZ2h0cyBiYWNrIHVwIHRoZSB0cmVlCgkJCQlmb3IgKCRsdmwgPSAkdGhpcy0+bXBkZi0+aW5uZXJtb3N0VGFibGVMZXZlbDsgJGx2bCA+IDA7ICRsdmwtLSkgewoJCQkJCWZvciAoJG5pZCA9IDE7ICRuaWQgPD0gJHRoaXMtPm1wZGYtPnRiY3RyWyRsdmxdOyAkbmlkKyspIHsKCQkJCQkJbGlzdCgkdGFibGVoZWlnaHQsICRtYXhyb3doZWlnaHQsICRmdWxscGFnZSwgJHJlbWFpbmluZ3BhZ2UsICRtYXhmaXJzdHJvd2hlaWdodCkgPSAkdGhpcy0+bXBkZi0+X3RhYmxlSGVpZ2h0KCR0aGlzLT5tcGRmLT50YWJsZVskbHZsXVskbmlkXSk7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIFJFU0laSU5HIEFMR09SSVRITQoKCQkJCWlmICgkbWF4cm93aGVpZ2h0ID4gJGZ1bGxwYWdlKSB7CgkJCQkJJHJlY2FsY3VsYXRlID0gJHRoaXMtPnRic3FydCgkbWF4cm93aGVpZ2h0IC8gJGZ1bGxwYWdlLCAkaXRlcmF0aW9uKTsKCQkJCQkkaXRlcmF0aW9uKys7CgkJCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZSAmJiAkdGFibGVoZWlnaHQgPiAkcmVtYWluaW5ncGFnZSAmJiAhJGFkZGVkX3BhZ2UpIHsKCQkJCQkvLyBJZiBjYW4gZml0IG9uIHJlbWFpbmRlciBvZiBwYWdlIHdoaWxzdCByZXNwZWN0aW5nIGF1dG9zaXplIHZhbHVlLi4KCQkJCQlpZiAoKCR0aGlzLT5tcGRmLT5zaHJpbl9rICogJHRoaXMtPnRic3FydCgkdGFibGVoZWlnaHQgLyAkcmVtYWluaW5ncGFnZSwgJGl0ZXJhdGlvbikpIDw9ICR0aGlzLT5tcGRmLT5zaHJpbmtfdGhpc190YWJsZV90b19maXQpIHsKCQkJCQkJJHJlY2FsY3VsYXRlID0gJHRoaXMtPnRic3FydCgkdGFibGVoZWlnaHQgLyAkcmVtYWluaW5ncGFnZSwgJGl0ZXJhdGlvbik7CgkJCQkJCSRpdGVyYXRpb24rKzsKCQkJCQl9IGVsc2UgewoJCQkJCQlpZiAoISRhZGRlZF9wYWdlKSB7CgkJCQkJCQkkdGhpcy0+bXBkZi0+QWRkUGFnZSgkdGhpcy0+bXBkZi0+Q3VyT3JpZW50YXRpb24pOwoJCQkJCQkJJGFkZGVkX3BhZ2UgPSB0cnVlOwoJCQkJCQkJJHRoaXMtPm1wZGYtPmt3dF9tb3ZlZCA9IHRydWU7CgkJCQkJCQkkdGhpcy0+bXBkZi0+dGJyb3RfbWF4dyA9ICR0aGlzLT5tcGRmLT5oIC0gKCR0aGlzLT5tcGRmLT55ICsgJHRoaXMtPm1wZGYtPmJNYXJnaW4gKyA1KSAtICR0aGlzLT5tcGRmLT5rd3RfaGVpZ2h0OwoJCQkJCQl9CgkJCQkJCS8vIDAuMDAxIHRvIGZvcmNlIGl0IHRvIHJlY2FsY3VsYXRlCgkJCQkJCSRyZWNhbGN1bGF0ZSA9ICgxIC8gJHRoaXMtPm1wZGYtPnNocmluX2spICsgMC4wMDE7ICAvLyB1bmRvIGFueSBzaHJpbmsKCQkJCQl9CgkJCQl9IGVsc2VpZiAoJHRoaXMtPm1wZGYtPnRhYmxlX2tlZXBfdG9nZXRoZXIgfHwgKCR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXVsnbnInXSA9PSAxICYmICEkdGhpcy0+bXBkZi0+d3JpdGluZ0hUTUxmb290ZXIpKSB7CgkJCQkJaWYgKCR0YWJsZWhlaWdodCA+ICRmdWxscGFnZSkgewoJCQkJCQlpZiAoKCR0aGlzLT5tcGRmLT5zaHJpbl9rICogJHRoaXMtPnRic3FydCgkdGFibGVoZWlnaHQgLyAkZnVsbHBhZ2UsICRpdGVyYXRpb24pKSA8PSAkdGhpcy0+bXBkZi0+c2hyaW5rX3RoaXNfdGFibGVfdG9fZml0KSB7CgkJCQkJCQkkcmVjYWxjdWxhdGUgPSAkdGhpcy0+dGJzcXJ0KCR0YWJsZWhlaWdodCAvICRmdWxscGFnZSwgJGl0ZXJhdGlvbik7CgkJCQkJCQkkaXRlcmF0aW9uKys7CgkJCQkJCX0gZWxzZWlmICgkdGhpcy0+bXBkZi0+dGFibGVNaW5TaXplUHJpb3JpdHkpIHsKCQkJCQkJCSR0aGlzLT5tcGRmLT50YWJsZV9rZWVwX3RvZ2V0aGVyID0gZmFsc2U7CgkJCQkJCQkkcmVjYWxjdWxhdGUgPSAoMSAvICR0aGlzLT5tcGRmLT5zaHJpbl9rKSArIDAuMDAxOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJaWYgKCEkYWRkZWRfcGFnZSAmJiAkdGhpcy0+bXBkZi0+eSAhPSAkdGhpcy0+bXBkZi0+dE1hcmdpbikgewoJCQkJCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbik7CgkJCQkJCQkJJGFkZGVkX3BhZ2UgPSB0cnVlOwoJCQkJCQkJCSR0aGlzLT5tcGRmLT5rd3RfbW92ZWQgPSB0cnVlOwoJCQkJCQkJCSR0aGlzLT5tcGRmLT50YnJvdF9tYXh3ID0gJHRoaXMtPm1wZGYtPmggLSAoJHRoaXMtPm1wZGYtPnkgKyAkdGhpcy0+bXBkZi0+Yk1hcmdpbiArIDUpIC0gJHRoaXMtPm1wZGYtPmt3dF9oZWlnaHQ7CgkJCQkJCQl9CgkJCQkJCQkkcmVjYWxjdWxhdGUgPSAkdGhpcy0+dGJzcXJ0KCR0YWJsZWhlaWdodCAvICRmdWxscGFnZSwgJGl0ZXJhdGlvbik7CgkJCQkJCQkkaXRlcmF0aW9uKys7CgkJCQkJCX0KCQkJCQl9IGVsc2VpZiAoJHRhYmxlaGVpZ2h0ID4gJHJlbWFpbmluZ3BhZ2UpIHsKCQkJCQkJLy8gSWYgY2FuIGZpdCBvbiByZW1haW5kZXIgb2YgcGFnZSB3aGlsc3QgcmVzcGVjdGluZyBhdXRvc2l6ZSB2YWx1ZS4uCgkJCQkJCWlmICgoJHRoaXMtPm1wZGYtPnNocmluX2sgKiAkdGhpcy0+dGJzcXJ0KCR0YWJsZWhlaWdodCAvICRyZW1haW5pbmdwYWdlLCAkaXRlcmF0aW9uKSkgPD0gJHRoaXMtPm1wZGYtPnNocmlua190aGlzX3RhYmxlX3RvX2ZpdCkgewoJCQkJCQkJJHJlY2FsY3VsYXRlID0gJHRoaXMtPnRic3FydCgkdGFibGVoZWlnaHQgLyAkcmVtYWluaW5ncGFnZSwgJGl0ZXJhdGlvbik7CgkJCQkJCQkkaXRlcmF0aW9uKys7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlpZiAoISRhZGRlZF9wYWdlKSB7CgkJCQkJCQkJLy8gbVBERiA2CgkJCQkJCQkJaWYgKCR0aGlzLT5tcGRmLT5BY2NlcHRQYWdlQnJlYWsoKSkgewoJCQkJCQkJCQkkdGhpcy0+bXBkZi0+QWRkUGFnZSgkdGhpcy0+bXBkZi0+Q3VyT3JpZW50YXRpb24pOwoJCQkJCQkJCX0gZWxzZWlmICgkdGhpcy0+bXBkZi0+Q29sQWN0aXZlICYmICR0YWJsZWhlaWdodCA+ICgoJHRoaXMtPm1wZGYtPmggLSAkdGhpcy0+bXBkZi0+Yk1hcmdpbikgLSAkdGhpcy0+bXBkZi0+eTApKSB7CgkJCQkJCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbik7CgkJCQkJCQkJfQoJCQkJCQkJCSRhZGRlZF9wYWdlID0gdHJ1ZTsKCQkJCQkJCQkkdGhpcy0+bXBkZi0+a3d0X21vdmVkID0gdHJ1ZTsKCQkJCQkJCQkkdGhpcy0+bXBkZi0+dGJyb3RfbWF4dyA9ICR0aGlzLT5tcGRmLT5oIC0gKCR0aGlzLT5tcGRmLT55ICsgJHRoaXMtPm1wZGYtPmJNYXJnaW4gKyA1KSAtICR0aGlzLT5tcGRmLT5rd3RfaGVpZ2h0OwoJCQkJCQkJfQoKCQkJCQkJCS8vJHJlY2FsY3VsYXRlID0gJHRoaXMtPnRic3FydCgkdGFibGVoZWlnaHQgLyAkZnVsbHBhZ2UsICRpdGVyYXRpb24pOyAkaXRlcmF0aW9uKys7CgkJCQkJCQkkcmVjYWxjdWxhdGUgPSAoMSAvICR0aGlzLT5tcGRmLT5zaHJpbl9rKSArIDAuMDAxOyAgLy8gdW5kbyBhbnkgc2hyaW5rCgkJCQkJCX0KCQkJCQl9IGVsc2UgewoJCQkJCQkkcmVjYWxjdWxhdGUgPSAxOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJJHJlY2FsY3VsYXRlID0gMTsKCQkJCX0KCQkJfQoKCQkJaWYgKCRtYXhmaXJzdHJvd2hlaWdodCA+ICRyZW1haW5pbmdwYWdlICYmICEkYWRkZWRfcGFnZSAmJiAhJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZSAmJiAhJHRoaXMtPm1wZGYtPkNvbEFjdGl2ZQoJCQkJJiYgISR0aGlzLT5tcGRmLT50YWJsZV9rZWVwX3RvZ2V0aGVyICYmICEkdGhpcy0+bXBkZi0+d3JpdGluZ0hUTUxoZWFkZXIgJiYgISR0aGlzLT5tcGRmLT53cml0aW5nSFRNTGZvb3RlcikgewoJCQkJJHRoaXMtPm1wZGYtPkFkZFBhZ2UoJHRoaXMtPm1wZGYtPkN1ck9yaWVudGF0aW9uKTsKCQkJCSR0aGlzLT5tcGRmLT5rd3RfbW92ZWQgPSB0cnVlOwoJCQl9CgoJCQkvLyBrZWVwLXdpdGgtdGFibGU6IGlmIHBhZ2UgaGFzIGFkdmFuY2VkLCBwcmludCBvdXQgYnVmZmVyIG5vdywgZWxzZSBkb25lIGluIGZuLiBfVGFibGV3cml0ZSgpCgkJCWlmICgkdGhpcy0+bXBkZi0+a3d0X3NhdmVkICYmICR0aGlzLT5tcGRmLT5rd3RfbW92ZWQpIHsKCQkJCSR0aGlzLT5tcGRmLT5wcmludGt3dGJ1ZmZlcigpOwoJCQkJJHRoaXMtPm1wZGYtPmt3dF9tb3ZlZCA9IGZhbHNlOwoJCQkJJHRoaXMtPm1wZGYtPmt3dF9zYXZlZCA9IGZhbHNlOwoJCQl9CgoJCQkvLyBSZWN1cnNpdmVseSB3cml0ZXMgYWxsIHRhYmxlcyBzdGFydGluZyBhdCB0b3AgbGV2ZWwKCQkJJHRoaXMtPm1wZGYtPl90YWJsZVdyaXRlKCR0aGlzLT5tcGRmLT50YWJsZVsxXVsxXSk7CgoJCQlpZiAoJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZSAmJiAkdGhpcy0+bXBkZi0+dGFibGVidWZmZXIpIHsKCQkJCSR0aGlzLT5tcGRmLT5QYWdlQnJlYWtUcmlnZ2VyID0gJHRoaXMtPm1wZGYtPmggLSAkdGhpcy0+bXBkZi0+Yk1hcmdpbjsKCQkJCSRzYXZlX3RyID0gJHRoaXMtPm1wZGYtPnRhYmxlX3JvdGF0ZTsKCQkJCSRzYXZlX3kgPSAkdGhpcy0+bXBkZi0+eTsKCQkJCSR0aGlzLT5tcGRmLT50YWJsZV9yb3RhdGUgPSAwOwoJCQkJJHRoaXMtPm1wZGYtPnkgPSAkdGhpcy0+bXBkZi0+dGJyb3RfeTA7CgkJCQkkaCA9ICR0aGlzLT5tcGRmLT50YnJvdF93OwoJCQkJJHRoaXMtPm1wZGYtPkRpdkxuKCRoLCAkdGhpcy0+bXBkZi0+YmxrbHZsKTsKCgkJCQkkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlID0gJHNhdmVfdHI7CgkJCQkkdGhpcy0+bXBkZi0+eSA9ICRzYXZlX3k7CgoJCQkJJHRoaXMtPm1wZGYtPnByaW50dGFibGVidWZmZXIoKTsKCQkJfQoJCQkkdGhpcy0+bXBkZi0+dGFibGVfcm90YXRlID0gMDsKCQl9CgoKCQkkdGhpcy0+bXBkZi0+eCA9ICR0aGlzLT5tcGRmLT5sTWFyZ2luICsgJHRoaXMtPm1wZGYtPmJsa1skdGhpcy0+bXBkZi0+YmxrbHZsXVsnb3V0ZXJfbGVmdF9tYXJnaW4nXTsKCgkJJHRoaXMtPm1wZGYtPm1heFBvc1IgPSBtYXgoJHRoaXMtPm1wZGYtPm1heFBvc1IsICR0aGlzLT5tcGRmLT54ICsgJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdWyd3J10pOwoKCQkkdGhpcy0+bXBkZi0+YmxvY2tqdXN0ZmluaXNoZWQgPSB0cnVlOwoJCSR0aGlzLT5tcGRmLT5sYXN0YmxvY2tib3R0b21tYXJnaW4gPSAkdGhpcy0+bXBkZi0+dGFibGVbMV1bMV1bJ21hcmdpbiddWydCJ107CgkJLy9SZXNldCB2YWx1ZXMKCgkJJHBhZ2VfYnJlYWtfYWZ0ZXIgPSAnJzsKCQlpZiAoaXNzZXQoJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdWydwYWdlX2JyZWFrX2FmdGVyJ10pKSB7CgkJCSRwYWdlX2JyZWFrX2FmdGVyID0gJHRoaXMtPm1wZGYtPnRhYmxlWzFdWzFdWydwYWdlX2JyZWFrX2FmdGVyJ107CgkJfQoKCQkvLyBLZWVwLXdpdGgtdGFibGUKCQkkdGhpcy0+bXBkZi0+a3d0ID0gZmFsc2U7CgkJJHRoaXMtPm1wZGYtPmt3dF95MCA9IDA7CgkJJHRoaXMtPm1wZGYtPmt3dF94MCA9IDA7CgkJJHRoaXMtPm1wZGYtPmt3dF9oZWlnaHQgPSAwOwoJCSR0aGlzLT5tcGRmLT5rd3RfYnVmZmVyID0gW107CgkJJHRoaXMtPm1wZGYtPmt3dF9MaW5rcyA9IFtdOwoJCSR0aGlzLT5tcGRmLT5rd3RfQW5ub3RzID0gW107CgkJJHRoaXMtPm1wZGYtPmt3dF9tb3ZlZCA9IGZhbHNlOwoJCSR0aGlzLT5tcGRmLT5rd3Rfc2F2ZWQgPSBmYWxzZTsKCgkJJHRoaXMtPm1wZGYtPmt3dF9SZWZlcmVuY2UgPSBbXTsKCQkkdGhpcy0+bXBkZi0+a3d0X0JNb3V0bGluZXMgPSBbXTsKCQkkdGhpcy0+bXBkZi0+a3d0X3RvYyA9IFtdOwoKCQkkdGhpcy0+bXBkZi0+c2hyaW5fayA9IDE7CgkJJHRoaXMtPm1wZGYtPnNocmlua190aGlzX3RhYmxlX3RvX2ZpdCA9IDA7CgoJCSR0aGlzLT5tcGRmLT50YWJsZSA9IFtdOyAvL2FycmF5CgkJJHRoaXMtPm1wZGYtPnRhYmxlTGV2ZWwgPSAwOwoJCSR0aGlzLT5tcGRmLT50YmN0ciA9IFtdOwoJCSR0aGlzLT5tcGRmLT5pbm5lcm1vc3RUYWJsZUxldmVsID0gMDsKCQkkdGhpcy0+Y3NzTWFuYWdlci0+dGJDU1NsdmwgPSAwOwoJCSR0aGlzLT5jc3NNYW5hZ2VyLT50YWJsZWNhc2NhZGVDU1MgPSBbXTsKCgkJJHRoaXMtPm1wZGYtPmNlbGwgPSBbXTsgLy9hcnJheQoKCQkkdGhpcy0+bXBkZi0+Y29sID0gLTE7IC8vaW50CgkJJHRoaXMtPm1wZGYtPnJvdyA9IC0xOyAvL2ludAoKCQkkdGhpcy0+bXBkZi0+UmVzZXQoKTsKCgkJJHRoaXMtPm1wZGYtPmNlbGxQYWRkaW5nTCA9IDA7CgkJJHRoaXMtPm1wZGYtPmNlbGxQYWRkaW5nVCA9IDA7CgkJJHRoaXMtPm1wZGYtPmNlbGxQYWRkaW5nUiA9IDA7CgkJJHRoaXMtPm1wZGYtPmNlbGxQYWRkaW5nQiA9IDA7CgkJJHRoaXMtPm1wZGYtPmNNYXJnaW5MID0gMDsKCQkkdGhpcy0+bXBkZi0+Y01hcmdpblQgPSAwOwoJCSR0aGlzLT5tcGRmLT5jTWFyZ2luUiA9IDA7CgkJJHRoaXMtPm1wZGYtPmNNYXJnaW5CID0gMDsKCQkkdGhpcy0+bXBkZi0+ZGVmYXVsdF9mb250X3NpemUgPSAkdGhpcy0+bXBkZi0+b3JpZ2luYWxfZGVmYXVsdF9mb250X3NpemU7CgkJJHRoaXMtPm1wZGYtPmRlZmF1bHRfZm9udCA9ICR0aGlzLT5tcGRmLT5vcmlnaW5hbF9kZWZhdWx0X2ZvbnQ7CgkJJHRoaXMtPm1wZGYtPlNldEZvbnRTaXplKCR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnRfc2l6ZSwgZmFsc2UpOwoJCSR0aGlzLT5tcGRmLT5TZXRGb250KCR0aGlzLT5tcGRmLT5kZWZhdWx0X2ZvbnQsICcnLCAwLCBmYWxzZSk7CgkJJHRoaXMtPm1wZGYtPlNldExpbmVIZWlnaHQoKTsKCgkJaWYgKGlzc2V0KCR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ0lubGluZVByb3BlcnRpZXMnXSkpIHsKCQkJJHRoaXMtPm1wZGYtPnJlc3RvcmVJbmxpbmVQcm9wZXJ0aWVzKCR0aGlzLT5tcGRmLT5ibGtbJHRoaXMtPm1wZGYtPmJsa2x2bF1bJ0lubGluZVByb3BlcnRpZXMnXSk7CgkJfQoKCQlpZiAoJHBhZ2VfYnJlYWtfYWZ0ZXIpIHsKCQkJJHNhdmVfYmxrbHZsID0gJHRoaXMtPm1wZGYtPmJsa2x2bDsKCQkJJHNhdmVfYmxrID0gJHRoaXMtPm1wZGYtPmJsazsKCQkJJHNhdmVfc2lscCA9ICR0aGlzLT5tcGRmLT5zYXZlSW5saW5lUHJvcGVydGllcygpOwoJCQkkc2F2ZV9pbHAgPSAkdGhpcy0+bXBkZi0+SW5saW5lUHJvcGVydGllczsKCQkJJHNhdmVfYmZscCA9ICR0aGlzLT5tcGRmLT5JbmxpbmVCREY7CgkJCSRzYXZlX2JmbHBjID0gJHRoaXMtPm1wZGYtPklubGluZUJERmN0cjsgLy8gbVBERiA2CgkJCS8vIG1QREYgNiBwYWdlYnJlYWt0eXBlCgkJCSRzdGFydHBhZ2UgPSAkdGhpcy0+bXBkZi0+cGFnZTsKCQkJJHBhZ2VicmVha3R5cGUgPSAkdGhpcy0+bXBkZi0+ZGVmYXVsdFBhZ2VicmVha1R5cGU7CgkJCWlmICgkdGhpcy0+bXBkZi0+Q29sQWN0aXZlKSB7CgkJCQkkcGFnZWJyZWFrdHlwZSA9ICdjbG9uZWFsbCc7CgkJCX0KCgkJCS8vIG1QREYgNiBwYWdlYnJlYWt0eXBlCgkJCSR0aGlzLT5tcGRmLT5fcHJlRm9yY2VkUGFnZWJyZWFrKCRwYWdlYnJlYWt0eXBlKTsKCgkJCWlmICgkcGFnZV9icmVha19hZnRlciA9PT0gJ1JJR0hUJykgewoJCQkJJHRoaXMtPm1wZGYtPkFkZFBhZ2UoJHRoaXMtPm1wZGYtPkN1ck9yaWVudGF0aW9uLCAnTkVYVC1PREQnKTsKCQkJfSBlbHNlaWYgKCRwYWdlX2JyZWFrX2FmdGVyID09PSAnTEVGVCcpIHsKCQkJCSR0aGlzLT5tcGRmLT5BZGRQYWdlKCR0aGlzLT5tcGRmLT5DdXJPcmllbnRhdGlvbiwgJ05FWFQtRVZFTicpOwoJCQl9IGVsc2UgewoJCQkJJHRoaXMtPm1wZGYtPkFkZFBhZ2UoJHRoaXMtPm1wZGYtPkN1ck9yaWVudGF0aW9uKTsKCQkJfQoKCQkJLy8gbVBERiA2IHBhZ2VicmVha3R5cGUKCQkJJHRoaXMtPm1wZGYtPl9wb3N0Rm9yY2VkUGFnZWJyZWFrKCRwYWdlYnJlYWt0eXBlLCAkc3RhcnRwYWdlLCAkc2F2ZV9ibGssICRzYXZlX2Jsa2x2bCk7CgoJCQkkdGhpcy0+bXBkZi0+SW5saW5lUHJvcGVydGllcyA9ICRzYXZlX2lscDsKCQkJJHRoaXMtPm1wZGYtPklubGluZUJERiA9ICRzYXZlX2JmbHA7CgkJCSR0aGlzLT5tcGRmLT5JbmxpbmVCREZjdHIgPSAkc2F2ZV9iZmxwYzsgLy8gbVBERiA2CgkJCSR0aGlzLT5tcGRmLT5yZXN0b3JlSW5saW5lUHJvcGVydGllcygkc2F2ZV9zaWxwKTsKCQl9Cgl9CgoJLyoqCgkgKiBUaGlzIGZ1bmN0aW9uIGRldGVybWluZXMgdGhlIHNocmluayBmYWN0b3Igd2hlbiByZXNpemluZyB0YWJsZXMKCSAqIHZhbCBpcyB0aGUgdGFibGVfaGVpZ2h0IC8gcGFnZV9oZWlnaHRfYXZhaWxhYmxlCgkgKiByZXR1cm5zIGEgc2NhbGluZyBmYWN0b3IgdXNlZCBhcyAkc2hyaW5fayB0byByZXNpemUgdGhlIHRhYmxlCgkgKiBPdmVyY29tcGVuc2F0aW5nIHdpbGwgYmUgcXVpY2tlciBidXQgbWF5IHVubmVjZXNzYXJpbHkgc2hyaW5rIHRhYmxlIHRvbyBtdWNoCgkgKiBVbmRlcmNvbXBlbnNhdGluZyBtZWFucyBpdCB3aWxsIHJlaXRlcmF0ZSBtb3JlIHRpbWVzICh0YWtpbmcgbW9yZSBwcm9jZXNzaW5nIHRpbWUpCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gdGJzcXJ0KCR2YWwsICRpdGVyYXRpb24gPSAzKQoJewoJCS8vIEFsdGVycyBudW1iZXIgb2YgaXRlcmF0aW9ucyB1bnRpbCBpdCByZXR1cm5zICR2YWwgaXRzZWxmIC0gTXVzdCBiZSA+IDIKCQkkayA9IDQ7CgoJCS8vIFByb2JhYmx5IGJlc3QgZ3Vlc3MgYW5kIG1vc3QgYWNjdXJhdGUKCQlpZiAoJGl0ZXJhdGlvbiA9PT0gMSkgewoJCQlyZXR1cm4gc3FydCgkdmFsKTsKCQl9CgoJCS8vIEZhc3RlciB0aGFuIHVzaW5nIHNxcnQgKGJlY2F1c2UgaXQgd29uJ3QgdW5kZXJjb21wZW5zYXRlKSwgYW5kIGdpdmVzIHJlYXNvbmFibGUgcmVzdWx0cwoJCS8vIHJldHVybiAxICsgKCgkdmFsIC0gMSkgLyAyKTsKCQkkeCA9IDIgLSAoKCRpdGVyYXRpb24gLSAyKSAvICgkayAtIDIpKTsKCgkJaWYgKCR4ID09PSAwKSB7CgkJCSRyZXQgPSAkdmFsICsgMC4wMDAwMTsKCQl9IGVsc2VpZiAoJHggPCAwKSB7CgkJCSRyZXQgPSAxICsgKCBwb3coMiwgKCRpdGVyYXRpb24gLSAyIC0gJGspKSAvIDEwMDAgKTsKCQl9IGVsc2UgewoJCQkkcmV0ID0gMSArICgoJHZhbCAtIDEpIC8gJHgpOwoJCX0KCgkJcmV0dXJuICRyZXQ7Cgl9Cgp9CiI7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lc3BhY2VzIjthOjE6e3M6OToiXE1wZGZcVGFnIjtPOjMwOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4iOjI6e3M6Mzc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AZnFzZW4iO3M6OToiXE1wZGZcVGFnIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6MzoiVGFnIjt9fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjE6e3M6MTU6IlxNcGRmXFRhZ1xUYWJsZSI7TzozNToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18iOjEzOntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AZnFzZW4iO086MzA6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbiI6Mjp7czozNzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBmcXNlbiI7czoxNToiXE1wZGZcVGFnXFRhYmxlIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6NToiVGFibGUiO31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AZG9jQmxvY2siO047czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAGFic3RyYWN0IjtiOjA7czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAGZpbmFsIjtiOjA7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAHBhcmVudCI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjEzOiJcTXBkZlxUYWdcVGFnIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6MzoiVGFnIjt9czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAGltcGxlbWVudHMiO2E6MDp7fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBjb25zdGFudHMiO2E6MDp7fXM6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBwcm9wZXJ0aWVzIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AbWV0aG9kcyI7YTozOntzOjIzOiJcTXBkZlxUYWdcVGFibGU6Om9wZW4oKSI7TzozNToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QiOjEyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZG9jQmxvY2siO047czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAGZxc2VuIjtPOjMwOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4iOjI6e3M6Mzc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRnFzZW4AZnFzZW4iO3M6MjM6IlxNcGRmXFRhZ1xUYWJsZTo6b3BlbigpIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6NDoib3BlbiI7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABhYnN0cmFjdCI7YjowO3M6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABmaW5hbCI7YjowO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABzdGF0aWMiO2I6MDtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAdmlzaWJpbGl0eSI7TzozOToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5IjoxOntzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5AHZpc2liaWxpdHkiO3M6NjoicHVibGljIjt9czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAGFyZ3VtZW50cyI7YTozOntpOjA7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudCI6NTp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAbmFtZSI7czo0OiJhdHRyIjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudAB0eXBlIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcTWl4ZWRfIjowOnt9czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAZGVmYXVsdCI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABieVJlZmVyZW5jZSI7YjowO3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGlzVmFyaWFkaWMiO2I6MDt9aToxO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQiOjU6e3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AG5hbWUiO3M6NToiYWh0bWwiO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AHR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABkZWZhdWx0IjtOO3M6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGJ5UmVmZXJlbmNlIjtiOjE7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAaXNWYXJpYWRpYyI7YjowO31pOjI7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudCI6NTp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAbmFtZSI7czo1OiJpaHRtbCI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAdHlwZSI7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXE1peGVkXyI6MDp7fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGRlZmF1bHQiO047czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAYnlSZWZlcmVuY2UiO2I6MTtzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABpc1ZhcmlhZGljIjtiOjA7fX1zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAbG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjExO3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjA7fXM6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABlbmRMb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6NTIyO3M6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AY29sdW1uTnVtYmVyIjtpOjA7fXM6NDc6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZAByZXR1cm5UeXBlIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcTWl4ZWRfIjowOnt9czo1NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAGhhc1JldHVybkJ5UmVmZXJlbmNlIjtiOjA7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAG1ldGFkYXRhIjthOjA6e319czoyNDoiXE1wZGZcVGFnXFRhYmxlOjpjbG9zZSgpIjtPOjM1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZCI6MTI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABkb2NCbG9jayI7TjtzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZnFzZW4iO086MzA6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbiI6Mjp7czozNzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBmcXNlbiI7czoyNDoiXE1wZGZcVGFnXFRhYmxlOjpjbG9zZSgpIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6NToiY2xvc2UiO31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAYWJzdHJhY3QiO2I6MDtzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZmluYWwiO2I6MDtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAc3RhdGljIjtiOjA7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAHZpc2liaWxpdHkiO086Mzk6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcVmlzaWJpbGl0eSI6MTp7czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcVmlzaWJpbGl0eQB2aXNpYmlsaXR5IjtzOjY6InB1YmxpYyI7fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABhcmd1bWVudHMiO2E6Mjp7aTowO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQiOjU6e3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AG5hbWUiO3M6NToiYWh0bWwiO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AHR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABkZWZhdWx0IjtOO3M6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGJ5UmVmZXJlbmNlIjtiOjE7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAaXNWYXJpYWRpYyI7YjowO31pOjE7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudCI6NTp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAbmFtZSI7czo1OiJpaHRtbCI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAdHlwZSI7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXE1peGVkXyI6MDp7fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGRlZmF1bHQiO047czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAYnlSZWZlcmVuY2UiO2I6MTtzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABpc1ZhcmlhZGljIjtiOjA7fX1zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAbG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjUyNDtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO31zOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZW5kTG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjEyNDc7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAHJldHVyblR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjU3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAaGFzUmV0dXJuQnlSZWZlcmVuY2UiO2I6MDtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAbWV0YWRhdGEiO2E6MDp7fX1zOjI1OiJcTXBkZlxUYWdcVGFibGU6OnRic3FydCgpIjtPOjM1OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZCI6MTI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABkb2NCbG9jayI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrIjo3OntzOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHN1bW1hcnkiO3M6MzMzOiJUaGlzIGZ1bmN0aW9uIGRldGVybWluZXMgdGhlIHNocmluayBmYWN0b3Igd2hlbiByZXNpemluZyB0YWJsZXMKdmFsIGlzIHRoZSB0YWJsZV9oZWlnaHQgLyBwYWdlX2hlaWdodF9hdmFpbGFibGUKcmV0dXJucyBhIHNjYWxpbmcgZmFjdG9yIHVzZWQgYXMgJHNocmluX2sgdG8gcmVzaXplIHRoZSB0YWJsZQpPdmVyY29tcGVuc2F0aW5nIHdpbGwgYmUgcXVpY2tlciBidXQgbWF5IHVubmVjZXNzYXJpbHkgc2hyaW5rIHRhYmxlIHRvbyBtdWNoClVuZGVyY29tcGVuc2F0aW5nIG1lYW5zIGl0IHdpbGwgcmVpdGVyYXRlIG1vcmUgdGltZXMgKHRha2luZyBtb3JlIHByb2Nlc3NpbmcgdGltZSkiO3M6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAZGVzY3JpcHRpb24iO086NDU6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbiI6Mjp7czo1OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9ja1xEZXNjcmlwdGlvbgBib2R5VGVtcGxhdGUiO3M6MDoiIjtzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrXERlc2NyaXB0aW9uAHRhZ3MiO2E6MDp7fX1zOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAHRhZ3MiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAY29udGV4dCI7TzozODoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXENvbnRleHQiOjI6e3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2UiO3M6ODoiTXBkZlxUYWciO3M6NTY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcQ29udGV4dABuYW1lc3BhY2VBbGlhc2VzIjthOjI6e3M6NjoiQm9yZGVyIjtzOjE1OiJNcGRmXENzc1xCb3JkZXIiO3M6NDoiTXBkZiI7czo5OiJNcGRmXE1wZGYiO319czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxEb2NCbG9jawBsb2NhdGlvbiI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXERvY0Jsb2NrAGlzVGVtcGxhdGVTdGFydCI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cRG9jQmxvY2sAaXNUZW1wbGF0ZUVuZCI7YjowO31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZnFzZW4iO086MzA6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbiI6Mjp7czozNzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBmcXNlbiI7czoyNToiXE1wZGZcVGFnXFRhYmxlOjp0YnNxcnQoKSI7czozNjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBuYW1lIjtzOjY6InRic3FydCI7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABhYnN0cmFjdCI7YjowO3M6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABmaW5hbCI7YjowO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABzdGF0aWMiO2I6MDtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAdmlzaWJpbGl0eSI7TzozOToicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5IjoxOntzOjUxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxWaXNpYmlsaXR5AHZpc2liaWxpdHkiO3M6NzoicHJpdmF0ZSI7fXM6NDY6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABhcmd1bWVudHMiO2E6Mjp7aTowO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQiOjU6e3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AG5hbWUiO3M6MzoidmFsIjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudAB0eXBlIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcTWl4ZWRfIjowOnt9czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAZGVmYXVsdCI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABieVJlZmVyZW5jZSI7YjowO3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGlzVmFyaWFkaWMiO2I6MDt9aToxO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQiOjU6e3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AG5hbWUiO3M6OToiaXRlcmF0aW9uIjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudAB0eXBlIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcTWl4ZWRfIjowOnt9czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAZGVmYXVsdCI7czoxOiIzIjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABieVJlZmVyZW5jZSI7YjowO3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGlzVmFyaWFkaWMiO2I6MDt9fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXE1ldGhvZABsb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6MTI1NjtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO31zOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAZW5kTG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjEyNzk7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcTWV0aG9kAHJldHVyblR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjU3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAaGFzUmV0dXJuQnlSZWZlcmVuY2UiO2I6MDtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxNZXRob2QAbWV0YWRhdGEiO2E6MDp7fX19czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAHVzZWRUcmFpdHMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXENsYXNzXwBsb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6ODtzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO31zOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxDbGFzc18AZW5kTG9jYXRpb24iO086MzM6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbiI6Mjp7czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBsaW5lTnVtYmVyIjtpOjEyODE7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQ2xhc3NfAG1ldGFkYXRhIjthOjA6e319fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";